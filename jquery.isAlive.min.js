/*
 _       __                          __                                 _     
| |     / /__        _________  ____/ /__        ____ ___  ____ _____ _(_)____
| | /| / / _ \______/ ___/ __ \/ __  / _ \______/ __ `__ \/ __ `/ __ `/ / ___/
| |/ |/ /  __/_____/ /__/ /_/ / /_/ /  __/_____/ / / / / / /_/ / /_/ / / /__  
|__/|__/\___/      \___/\____/\__,_/\___/     /_/ /_/ /_/\__,_/\__, /_/\___/  
                                                              /____/          
jQuery.isAlive(1.1.0)
Written by George Cheteles (george@we-code-magic.com).
Licensed under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license. 
Please attribute the author if you use it.
Find me at:
	http://www.we-code-magic.com 
	office@we-code-magic.com
Last modification on this file: 23 Octomber 2013
Minified with: http://jscompress.com/
*/
(function(jQuery){function onResizeAction(e){var t;clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if(windowWidth!=jQuery(window).width()||windowHeight!=jQuery(window).height()){windowWidth=jQuery(window).width();windowHeight=jQuery(window).height();for(t in isAliveObjects)if(isAliveObjects[t].settings.rebuildOnResize)isAliveObjects[t].rebuildLayout()}},250)}function addFormat(e,t){if(typeof t!="undefined")return t.replace(/value/g,e);return e}function validateBrowsers(e){var t=function(e){var t=false;if(myBrowserObj[e])t=true;if(e=="msie7-"&&ieFound&&browserVer<7)t=true;if(e=="msie7"&&ieFound&&browserVer==7)t=true;if(e=="msie8"&&ieFound&&browserVer==8)t=true;if(e=="msie9"&&ieFound&&browserVer==9)t=true;if(e=="msie10"&&ieFound&&browserVer==10)t=true;if(e=="msie10+"&&ieFound&&browserVer>10)t=true;if(e=="unknown"&&typeof myBrowserObj.webkit=="undefined"&&typeof myBrowserObj.mozilla=="undefined"&&typeof myBrowserObj.opera=="undefined"&&typeof myBrowserObj.msie=="undefined")t=true;return t};var n=false;e=e.split("|");for(var r in e){if(e[r].indexOf("&")!=-1){var i=e[r].split("&");if(i.length==2&&t(i[0])&&t(i[1]))n=true}else if(e[r].indexOf("!")!=-1){var i=e[r].split("!");if(i.length==2&&t(i[0])&&!t(i[2]))n=true}else if(t(e[r]))n=true}return n}function fixSpaces(e){if(typeof e!="string"||e.indexOf(" ")==-1)return e;e=e.split(" ");var t=[];for(var n in e)if(e[n]!="")t.push(e[n]);return t.join(" ")}function toString(e){if(typeof e=="function")return sdbmCode(e.toString()).toString();return e.toString()}function sdbmCode(e){var t=0;for(i=0;i<e.length;i++){var n=e.charCodeAt(i);t=n+(t<<6)+(t<<16)-t}return t}function lengthObj(e){var t;var n=0;for(t in e)n++;return n}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function myBrowser(){var e,t;var n=navigator.userAgent||navigator.vendor||window.opera;jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};e=jQuery.uaMatch(navigator.userAgent);t={};var r=/(android|bb\d+|meego).+mobile|webos|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4));if(r)t.mobile=true;if(e.browser){t[e.browser]=true;t.version=e.version}if(t.chrome){t.webkit=true}else if(t.webkit){t.safari=true}return t}function isCSS3(e){var t=["border-radius","transform","filter","trasition","background-size","box-shadow"];return indexOf(t,e)!=-1}function isDinamic(e){if(typeof e=="function")return true;if(e.toString().indexOf("eval(")!==-1)return true;return false}function fixCSS3(e){var t=e.toLowerCase();if(t=="transform"||t=="filter"||t.indexOf("transition")!=-1){if(myBrowserObj.webkit)return"-webkit-"+e;if(myBrowserObj.mozilla)return"-moz-"+e;if(myBrowserObj.msie)return"-ms-"+e;if(myBrowserObj.opera)return"-o-"+e}return e}function getAtPosValue(e,t,n,r,i,s,o){var u,a,f,l;l=" ";if(t.toString().indexOf(",")!=-1)l=",";if(t.toString().split(l).length!=n.toString().split(l).length)return false;t=t.toString().split(l);n=n.toString().split(l);u=[];for(var c in t){if(t[c].indexOf("px")!=-1||n[c].indexOf("px")!=-1)f="px";else if(t[c].indexOf("%")!=-1&&n[c].indexOf("%")!=-1)f="%";else if(t[c].indexOf("deg")!=-1&&n[c].indexOf("deg")!=-1)f="deg";else f="";t[c]=t[c].replace(f,"");n[c]=n[c].replace(f,"");if(isNaN(parseFloat(t[c]))||isNaN(parseFloat(n[c]))){u.push(t[c]);continue}t[c]=parseFloat(t[c]);n[c]=parseFloat(n[c]);a=parseFloat(t[c]+(n[c]-t[c])*((e-r)/(i-r)));if(o=="int")a=Math.round(a);u.push(a.toString()+f)}u=u.join(l);u=addFormat(u,s);if(isNumber(u))return parseFloat(u);return u}function isAlive(e,t){this.step=0;this.lastStep=0;this.animating=false;this.forceAnimation=false;this.scrollTimer;this.animPositions=[];this.animateDuration;this.touchPosition;this.jumpPosition;this.animationType="none";this.mySelector=e;this.allowScroll=true;this.allowTouch=true;this.scrollbarActive=null;this.waitScrollEnd=false;this.waitScrollTimer;this.setArray={};this.onOffClassArray={};this.cssDinamicElements=[];this.cssStaticElements=[];this.params={};this.onComplete=null;this.uniqId=Math.round(Math.random()*1e3)+1;this.CSS3TransitionArray={};this.CSS3DefaultTransitionArray={};this.functionsArray={};this.haveStepPoints;this.rebuildOnStop=false;this.newDragStarted=false;this.msTouchAction;this.tempCSSValues={};this.settings=jQuery.extend({},{elements:{},elementsType:"linear",duration:1e3,durationTweaks:{},enableScroll:true,scrollType:"scroll",jumpPoints:[],max:null,min:0,maxScroll:1e6,maxDrag:1e6,debug:false,easing:"linear",start:0,loop:false,stopScroll:true,stepPoints:[],stepPointsSelector:null,stepPointsActiveClass:null,enableTouch:false,touchType:"drag",touchActions:{up:1,down:-1,right:0,left:0},dragXFrom:10,dragYFrom:10,wipeXFrom:20,wipeYFrom:20,wipePoints:[],stopTouch:true,animateClass:"isalive-"+this.uniqId,rebuildOnResize:true,playPoints:[],CSS3Easing:"linear",stepsOnScroll:1,stepsOnDrag:1,stepsOnScrollbar:1,minStepDuration:0,initCSS:false,useCSS3:false,scrollbarType:"scroll",scrollbarPoints:[],scrollbarActiveClass:null,enableScrollbarTouch:false,scrollDelay:250,enableGPU:"none",onStep:null,onLoadingComplete:null,onRebuild:null},t);this.initAnimations()}var isAliveObjects=[];var isReady=false;var myBrowserObj=null;var ieFound=null;var browserVer=null;var isMobile=false;var indexOf=null;var resizeTimer;var windowWidth;var windowHeight;isAlive.prototype.log=function(e){if(this.settings.debug)jQuery("#isalive-"+this.uniqId+"-debuger").append("<br/>"+e)};isAlive.prototype.l=function(e){return Math.floor(e/this.settings.max)*this.settings.max};isAlive.prototype.getPos=function(e){if(e%this.settings.max<0)return this.settings.max+e%this.settings.max;else return e%this.settings.max};isAlive.prototype.myAnimate=function(e,t,n,r,i,s){thisObj=this;if(typeof thisObj.tempCSSValues[t+"|"+n]=="undefined"||e==parseInt(e))thisObj.tempCSSValues[t+"|"+n]=thisObj.animPositions[Math.round(e)][t][n].toString();var o=thisObj.tempCSSValues[t+"|"+n];var u=r.toString();var a=null;if(o.indexOf("(")!=-1){temp=o.split("(");a=temp[0];o=temp[1].replace(")","");temp=u.split("(");u=temp[1].replace(")","")}var f=" ";if(o.indexOf(",")!=-1)f=",";o=o.split(f);u=u.split(f);if(o.length!=u.length)return false;var l={};l[n.replace(/-/g,"")+"Timer"]="+=100";jQuery(t).animate(l,{duration:i,easing:s,queue:false,step:function(e,r){var i=[];var s,l,c;var h=["color","background-color"];e=e-r.start;for(var p in o){l="";if(o[p].indexOf("px")!=-1)l="px";else if(o[p].indexOf("%")!=-1)l="%";else if(o[p].indexOf("deg")!=-1)l="deg";startT=parseInt(o[p].replace(l,""));endT=parseInt(u[p].replace(l,""));s=startT+(endT-startT)*(e/100);if(indexOf(h,n)!=-1)s=Math.round(s);i.push(s.toString()+l)}c=i.join(f);if(a!=null)c=a+"("+c+")";thisObj.tempCSSValues[t+"|"+n]=c;thisObj.setCSS(t,n,c)}})};isAlive.prototype.convertParams=function(params){var thisObj=this;var returnValue,paramsConv,splitParams,key,format,splitChar,evl,lastBracket,bracketCount;if(typeof params=="function")return params(thisObj.mySelector,thisObj.params);params=fixSpaces(params);if(!isDinamic(params))return params;paramsConv=params.toString();paramsConv=paramsConv.replace(/elementTop/g,thisObj.params.elementTop.toString());paramsConv=paramsConv.replace(/elementLeft/g,thisObj.params.elementLeft.toString());paramsConv=paramsConv.replace(/elementHeight/g,thisObj.params.elementHeight.toString());paramsConv=paramsConv.replace(/elementWidth/g,thisObj.params.elementWidth.toString());paramsConv=paramsConv.replace(/documentHeight/g,thisObj.params.documentHeight.toString());paramsConv=paramsConv.replace(/documentWidth/g,thisObj.params.documentWidth.toString());paramsConv=paramsConv.replace(/windowHeight/g,thisObj.params.windowHeight.toString());paramsConv=paramsConv.replace(/windowWidth/g,thisObj.params.windowWidth.toString());splitChar=" ";if(paramsConv.indexOf(",")!=-1)splitChar=",";splitParams=paramsConv.split(splitChar);for(var key in splitParams){splitParams[key]=splitParams[key].replace("top","0%").replace("center","50%").replace("bottom","100%").replace("left","0%").replace("right","100%");if(splitParams[key].indexOf("eval(")!=-1){bracketCount=0;for(var lastBracket=0;lastBracket<=splitParams[key].indexOf("eval(");lastBracket++)if(splitParams[key].charAt(lastBracket)=="(")bracketCount++;for(lastBracket=splitParams[key].length-1;lastBracket>=0;lastBracket--){if(splitParams[key].charAt(lastBracket)==")"){if(bracketCount==0)break;else bracketCount--}}evl=splitParams[key].substr(splitParams[key].indexOf("eval(")+5,lastBracket-5-splitParams[key].indexOf("eval("));try{eval("evl = "+evl+";")}catch(err){}splitParams[key]=splitParams[key].substr(0,splitParams[key].indexOf("eval("))+evl+splitParams[key].substr(lastBracket+1)}}paramsConv=splitParams.join(splitChar);if(isNumber(paramsConv))return parseFloat(paramsConv);else return paramsConv};isAlive.prototype.getTransitionArray=function(e,t){var n=this;if(typeof t!="undefined"){n.CSS3DefaultTransitionArray[e]={};if(t.indexOf("cubic-bezier")==-1)var r=t.split(",");else{var r=t.split("(");for(var i in r){if(r[i].indexOf(")")!=-1){r[i]=r[i].split(")");r[i][0]=r[i][0].replace(/,/g,"*char*");r[i]=r[i].join(")")}}r=r.join("(").split(",")}for(i in r){var s=r[i].split(" ");var o=fixCSS3(s[0]);n.CSS3DefaultTransitionArray[e][o]=r[i].replace(s[0],o).replace(/\*char\*/g,",")}}var u={};if(typeof n.CSS3DefaultTransitionArray[e]!="undefined")u=jQuery.extend(u,n.CSS3DefaultTransitionArray[e]);if(typeof n.CSS3TransitionArray[e]!="undefined")u=jQuery.extend(u,n.CSS3TransitionArray[e]);var a="";for(var i in u){if(a=="")a=u[i];else a=a+","+u[i]}if(a=="")a="all 0s";return a};isAlive.prototype.setCSS=function(e,t,n){var r=this;var i,s;if(typeof t=="string"){if(typeof r.functionsArray[t]!="undefined"){var o=r.functionsArray[t];o(e,n);return}if(t=="scrollTop"){jQuery(e).scrollTop(n);return}if(t=="scrollLeft"){jQuery(e).scrollLeft(n);return}else{if(typeof r.CSS3TransitionArray[e]!="undefined"&&typeof r.CSS3TransitionArray[e][t]!="undefined"){delete r.CSS3TransitionArray[e][t];jQuery(e).css(fixCSS3("transition"),r.getTransitionArray(e))}else if(t==fixCSS3("transition")){n=r.getTransitionArray(e,n)}jQuery(e).css(t,n);return}}else{jQuery(e).css(fixCSS3("transition"),r.getTransitionArray(e));jQuery(e).css(t)}};isAlive.prototype.rebuildLayout=function(){var e=this;if(!e.animating){e.params.windowWidth=jQuery(window).width();e.params.windowHeight=jQuery(window).height();e.params.documentWidth=jQuery(document).width();e.params.documentHeight=jQuery(document).height();e.params.elementHeight=jQuery(e.mySelector).height();e.params.elementWidth=jQuery(e.mySelector).width();e.params.elementTop=jQuery(e.mySelector).offset().top;e.params.elementLeft=jQuery(e.mySelector).offset().left;e.resetStaticCssValues();e.resetDinamicCssValues();if(e.settings.onRebuild!=null)e.settings.onRebuild(e.params,e.getPos(e.step),Math.floor(e.step/(e.settings.max+1)))}else e.rebuildOnStop=true};isAlive.prototype.resetStaticCssValues=function(){var e=this;var t;for(var n in e.cssStaticElements){t=e.convertParams(e.cssStaticElements[n]["value"]);t=addFormat(t,e.cssStaticElements[n]["format"]);e.setCSS(e.cssStaticElements[n]["selector"],e.cssStaticElements[n]["property"],t);if(!isDinamic(e.cssStaticElements[n]["value"]))delete e.cssStaticElements[n]}};isAlive.prototype.resetDinamicCssValues=function(){var e,t,n,r,i,s,o,u,a;var f=[];var l,c,h;var p=this;for(e in p.cssDinamicElements){if(p.cssDinamicElements[e]["method"]=="animate"){r=p.convertParams(p.cssDinamicElements[e]["value-start"]);i=p.convertParams(p.cssDinamicElements[e]["value-end"]);if(p.cssDinamicElements[e]["scrollbar"]==true){p.settings.elements[p.cssDinamicElements[e]["key"]]["value-start"]=r;p.settings.elements[p.cssDinamicElements[e]["key"]]["value-end"]=i}s=p.cssDinamicElements[e]["step-start"];o=p.cssDinamicElements[e]["step-end"];for(a=s;a<=o;a++){u=getAtPosValue(a,r,i,s,o,p.cssDinamicElements[e]["format"],p.cssDinamicElements[e]["type"]);if(u!==null)p.animPositions[a][p.cssDinamicElements[e]["selector"]][p.cssDinamicElements[e]["property"]]=u}}else if(p.cssDinamicElements[e]["method"]=="set"){t=p.cssDinamicElements[e]["selector"];n=p.cssDinamicElements[e]["property"];h=p.cssDinamicElements[e]["step-from"];c=p.cssDinamicElements[e]["value-above"];if(isDinamic(c)){c=p.convertParams(c);c=addFormat(c,p.cssDinamicElements[e]["format"]);p.setArray["forward"][h][t][n]=c}l=p.cssDinamicElements[e]["value-under"];if(isDinamic(l)){l=p.convertParams(l);l=addFormat(l,p.cssDinamicElements[e]["format"]);p.setArray["backward"][h][t][n]=l}}else if(p.cssDinamicElements[e]["method"]=="animate-set"){r=p.cssDinamicElements[e]["value-start"];i=p.cssDinamicElements[e]["value-end"];if(isDinamic(r))r=p.convertParams(r);if(isDinamic(i))i=p.convertParams(i);t=p.cssDinamicElements[e]["selector"];n=p.cssDinamicElements[e]["property"];s=p.cssDinamicElements[e]["step-start"];o=p.cssDinamicElements[e]["step-end"];moveOn=p.cssDinamicElements[e]["move-on"];for(a=s;a<=o;a++){if((a-s)%moveOn==0)p.setArray["any"][a][t][n]=getAtPosValue(a,r,i,s,o,p.cssDinamicElements[e]["format"],p.cssDinamicElements[e]["type"])}}if(typeof f[p.cssDinamicElements[e]["selector"]]=="undefined")f[p.cssDinamicElements[e]["selector"]]=[];if(indexOf(f[p.cssDinamicElements[e]["selector"]],p.cssDinamicElements[e]["property"])==-1)f[p.cssDinamicElements[e]["selector"]].push(p.cssDinamicElements[e]["property"])}for(t in f){for(e in f[t]){n=f[t][e];u=null;for(a=p.getPos(Math.round(p.lastStep));a>=0;a--){if(typeof p.setArray["any"][a]!="undefined"&&typeof p.setArray["any"][a][t]!="undefined"&&typeof p.setArray["any"][a][t][n]!="undefined")u=p.setArray["any"][a][t][n];if(typeof p.setArray["forward"][a]!="undefined"&&typeof p.setArray["forward"][a][t]!="undefined"&&typeof p.setArray["forward"][a][t][n]!="undefined")u=p.setArray["forward"][a][t][n];if(u==null&&typeof p.animPositions[a]!="undefined"&&typeof p.animPositions[a][t]!="undefined"&&typeof p.animPositions[a][t][f[t][e]]!="undefined")u=p.animPositions[a][t][f[t][e]];if(u!=null){p.setCSS(t,f[t][e],u);delete f[t][e];if(lengthObj(f[t])==0)delete f[t];break}}}}for(t in f){for(e in f[t]){n=f[t][e];u=null;for(a=p.getPos(Math.round(p.lastStep))+1;a<=p.getPos(p.settings.max-1);a++){if(typeof p.setArray["any"][a]!="undefined"&&typeof p.setArray["any"][a][t]!="undefined"&&typeof p.setArray["any"][a][t][n]!="undefined")u=p.setArray["any"][a][t][n];if(typeof p.setArray["backward"][a]!="undefined"&&typeof p.setArray["backward"][a][t]!="undefined"&&typeof p.setArray["backward"][a][t][n]!="undefined")u=p.setArray["backward"][a][t][n];if(u==null&&typeof p.animPositions[a]!="undefined"&&typeof p.animPositions[a][t]!="undefined"&&typeof p.animPositions[a][t][f[t][e]]!="undefined")u=p.animPositions[a][t][f[t][e]];if(u!=null){p.setCSS(t,f[t][e],u);delete f[t][e];if(lengthObj(f[t])==0)delete f[t];break}}}}};isAlive.prototype.getStartCssValue=function(e){var t,n,r,i,s;var o=this;if(o.settings.elements[e]["method"]=="animate"||o.settings.elements[e]["method"]=="animate-set")i=parseInt(o.settings.elements[e]["step-start"]);else if(o.settings.elements[e]["method"]=="set")i=parseInt(o.settings.elements[e]["step-from"]);s=null;for(n=i;n>=0;n--){for(t in o.settings.elements){if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&(o.settings.elements[t]["method"]=="animate"||o.settings.elements[t]["method"]=="animate-set")&&o.settings.elements[t]["step-end"]==n)return o.settings.elements[t]["value-end"];else if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&o.settings.elements[t]["method"]=="set"&&o.settings.elements[t]["step-from"]==n)return o.settings.elements[t]["value-above"];else if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&o.settings.elements[t]["method"]=="set@start"&&n==o.settings.start)return o.settings.elements[t]["value"]}}if(typeof o.functionsArray[o.settings.elements[e]["property"]]!="undefined")return 0;if(o.settings.elements[e]["property"]=="scrollTop")return jQuery(o.settings.elements[e]["selector"]).scrollTop();else if(o.settings.elements[e]["property"]=="scrollLeft")return jQuery(o.settings.elements[e]["selector"]).scrollLeft();else{r=jQuery(o.settings.elements[e]["selector"]).css(o.settings.elements[e]["property"]);if(r.toString().indexOf(" ")==-1){r=r.replace(/px/g,"");if(isNumber(r))r=parseFloat(r)}return r}};isAlive.prototype.bindScrollTouchEvents=function(){var e=this;if(e.settings.enableTouch){var t;var n;var r=false;var i=false;jQuery(e.mySelector).each(function(){function s(s){if(!e.allowTouch)return;if(!i){if(s.touches.length!=1)return;t=s.touches[0].clientX;n=s.touches[0].clientY;r=true;this.addEventListener("touchmove",u,false);this.addEventListener("touchend",o,false)}else{if(s.pointerType==s.MSPOINTER_TYPE_MOUSE)return;t=s.clientX;n=s.clientY;r=true;document.addEventListener("MSPointerMove",u,false);document.addEventListener("MSPointerUp",o,false)}e.newDragStarted=true}function o(t){if(!i){this.removeEventListener("touchmove",u);this.removeEventListener("touchend",o)}else{document.removeEventListener("MSPointerMove",u);document.removeEventListener("MSPointerUp",o)}r=false;e.newDragStarted=false}function u(s){if(!i&&e.settings.stopTouch){s.preventDefault()}if(r){if(!i){var u=s.touches[0].clientX;var a=s.touches[0].clientY}else{var u=s.clientX;var a=s.clientY}var f=t-u;var l=n-a;if(e.settings.touchType=="wipe"){if(Math.abs(f)>=e.settings.wipeXFrom){if(f>0&&e.settings.touchActions.left!=0){o();e.doWipeTouch(e.settings.touchActions.left);return}else if(f<0&&e.settings.touchActions.right!=0){o();e.doWipeTouch(e.settings.touchActions.right);return}}if(Math.abs(l)>=e.settings.wipeYFrom){if(l>0&&e.settings.touchActions.up!=0){o();e.doWipeTouch(e.settings.touchActions.up);return}else if(l<0&&e.settings.touchActions.down!=0){o();e.doWipeTouch(e.settings.touchActions.down);return}}}else{if(Math.abs(f)>=e.settings.dragXFrom){if(f>0&&e.settings.touchActions.left!=0){e.doDragTouch(e.settings.touchActions.left);t=u}else if(f<0&&e.settings.touchActions.right!=0){e.doDragTouch(e.settings.touchActions.right);t=u}}if(Math.abs(l)>=e.settings.dragYFrom){if(l>0&&e.settings.touchActions.up!=0){e.doDragTouch(e.settings.touchActions.up);n=a}else if(l<0&&e.settings.touchActions.down!=0){e.doDragTouch(e.settings.touchActions.down);n=a}}}}}if("ontouchstart"in document.documentElement){this.addEventListener("touchstart",s,false)}else if(window.navigator.msPointerEnabled){i=true;this.addEventListener("MSPointerDown",s,false)}})}if(e.settings.enableScroll){jQuery(e.mySelector).bind("DOMMouseScroll",function(t){if(t.originalEvent.detail>0)var n=true;else var n=false;if(e.settings.scrollType=="scroll")e.doScroll(n);else e.doJump(n);if(e.settings.stopScroll)return false});jQuery(e.mySelector).bind("mousewheel",function(t){if(t.originalEvent.wheelDelta<0)scrollDown=true;else scrollDown=false;if(e.settings.scrollType=="scroll")e.doScroll(scrollDown);else e.doJump(scrollDown);if(e.settings.stopScroll)return false})}};isAlive.prototype.createElementsArray=function(){var e=this;var t=jQuery.extend({},e.settings.elements);var n;var r;var i;var s;var o,u,a;var f,l;var c,h,p;e.setArray["any"]={};e.setArray["forward"]={};e.setArray["backward"]={};e.onOffClassArray["forward"]={};e.onOffClassArray["backward"]={};for(n=0;n<=e.settings.max;n++){for(s in t){if(t[s]["method"]=="animate"&&n>t[s]["step-end"]||t[s]["method"]=="animate-set"&&n>t[s]["step-end"]||t[s]["method"]=="set"&&n>t[s]["step-from"]||t[s]["method"]=="add-class"&&n>t[s]["step-from"]||t[s]["method"]=="remove-class"&&n>t[s]["step-from"]){delete t[s];continue}if(t[s]["method"]=="animate"){if(n>=t[s]["step-start"]&&n<=t[s]["step-end"]){f=t[s]["value-start"];l=t[s]["value-end"];c=t[s]["step-start"];h=t[s]["step-end"];p=getAtPosValue(n,f,l,c,h,t[s]["format"],t[s]["type"]);if(p!==null){if(typeof e.animPositions[n]=="undefined")e.animPositions[n]=[];if(typeof e.animPositions[n][t[s]["selector"]]=="undefined")e.animPositions[n][t[s]["selector"]]=[];e.animPositions[n][t[s]["selector"]][t[s]["property"]]=p}}}else if(t[s]["method"]=="animate-set"){if(n>=t[s]["step-start"]&&n<=t[s]["step-end"]&&(n-t[s]["step-start"])%t[s]["move-on"]==0){o=t[s]["selector"];u=t[s]["property"];f=t[s]["value-start"];l=t[s]["value-end"];c=t[s]["step-start"];h=t[s]["step-end"];p=getAtPosValue(n,f,l,c,h,t[s]["format"],t[s]["type"]);if(typeof e.setArray["any"][n]=="undefined")e.setArray["any"][n]={};if(typeof e.setArray["any"][n][o]=="undefined")e.setArray["any"][n][o]={};e.setArray["any"][n][o][u]=p}}else if(t[s]["method"]=="set"){if(n==t[s]["step-from"]){o=t[s]["selector"];u=t[s]["property"];if(typeof e.setArray["forward"][n]=="undefined")e.setArray["forward"][n]={};if(typeof e.setArray["forward"][n][o]=="undefined")e.setArray["forward"][n][o]={};e.setArray["forward"][n][o][u]=t[s]["value-above"];if(typeof e.setArray["backward"][n]=="undefined")e.setArray["backward"][n]={};if(typeof e.setArray["backward"][n][o]=="undefined")e.setArray["backward"][n][o]={};e.setArray["backward"][n][o][u]=t[s]["value-under"]}}else if(t[s]["method"]=="add-class"){if(n==t[s]["step-from"]){o=t[s]["selector"];a=t[s]["class-name"];if(typeof e.onOffClassArray["forward"][n]=="undefined")e.onOffClassArray["forward"][n]={};if(typeof e.onOffClassArray["forward"][n][o]=="undefined")e.onOffClassArray["forward"][n][o]={};e.onOffClassArray["forward"][n][o][a]=true;if(typeof e.onOffClassArray["backward"][n]=="undefined")e.onOffClassArray["backward"][n]={};if(typeof e.onOffClassArray["backward"][n][o]=="undefined")e.onOffClassArray["backward"][n][o]={};e.onOffClassArray["backward"][n][o][a]=false}}else if(t[s]["method"]=="remove-class"){if(n==t[s]["step-from"]){o=t[s]["selector"];a=t[s]["class-name"];if(typeof e.onOffClassArray["forward"][n]=="undefined")e.onOffClassArray["forward"][n]={};if(typeof e.onOffClassArray["forward"][n][o]=="undefined")e.onOffClassArray["forward"][n][o]={};e.onOffClassArray["forward"][n][o][a]=false;if(typeof e.onOffClassArray["backward"][n]=="undefined")e.onOffClassArray["backward"][n]={};if(typeof e.onOffClassArray["backward"][n][o]=="undefined")e.onOffClassArray["backward"][n][o]={};e.onOffClassArray["backward"][n][o][a]=true}}}}};isAlive.prototype.initCSS=function(){var e=this;var t={};var n={};var r,i,s,o;var u=-1;for(r=e.settings.start;r>=0;r--){if(e.haveStepPoints&&u==-1)u=indexOf(e.settings.stepPoints,r);if(typeof e.setArray["any"][r]!="undefined"){for(i in e.setArray["any"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["any"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["any"][r][i][s]}}}if(typeof e.setArray["forward"][r]!="undefined"){for(i in e.setArray["forward"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["forward"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["forward"][r][i][s]}}}if(typeof e.onOffClassArray["forward"][r]!="undefined"){for(i in e.onOffClassArray["forward"][r]){if(typeof n[i]=="undefined")n[i]={};for(o in e.onOffClassArray["forward"][r][i]){if(typeof n[i][o]=="undefined")n[i][o]=e.onOffClassArray["forward"][r][i][o]}}}if(typeof e.animPositions[r]!="undefined"){for(i in e.animPositions[r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.animPositions[r][i])if(typeof t[i][s]=="undefined")t[i][s]=e.animPositions[r][i][s]}}}for(r=e.settings.start+1;r<=e.settings.max;r++){if(typeof e.setArray["any"][r]!="undefined"){for(i in e.setArray["any"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["any"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["any"][r][i][s]}}}if(typeof e.setArray["backward"][r]!="undefined"){for(i in e.setArray["backward"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["backward"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["backward"][r][i][s]}}}if(typeof e.onOffClassArray["backward"][r]!="undefined"){for(i in e.onOffClassArray["backward"][r]){if(typeof n[i]=="undefined")n[i]={};for(o in e.onOffClassArray["backward"][r][i]){if(typeof n[i][o]=="undefined")n[i][o]=e.onOffClassArray["backward"][r][i][o]}}}if(typeof e.animPositions[r]!="undefined"){for(i in e.animPositions[r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.animPositions[r][i])if(typeof t[i][s]=="undefined")t[i][s]=e.animPositions[r][i][s]}}}for(i in t)for(s in t[i])e.setCSS(i,s,t[i][s]);for(i in n){for(o in n[i]){if(n[i][o]==true)jQuery(i).addClass(o);else jQuery(i).removeClass(o)}}if(u!=-1){jQuery(e.settings.stepPointsSelector).removeClass(e.settings.stepPointsActiveClass);jQuery(e.settings.stepPointsSelector).eq(u).addClass(e.settings.stepPointsActiveClass)}for(r=0;r<=e.settings.start;r++)if(e.settings.onStep!=null)e.settings.onStep(r,Math.floor(r/(e.settings.max+1)),"init")};isAlive.prototype.initAnimations=function(){var e,t,n;var r=this;if(!isReady){isReady=true;myBrowserObj=myBrowser();ieFound=myBrowserObj.msie==true;browserVer=parseInt(myBrowserObj.version);isMobile=myBrowserObj.mobile==true;if(!ieFound||ieFound&&browserVer>=9){indexOf=function(e,t){return e.indexOf(t)}}else{indexOf=function(e,t){for(var n in e)if(e[n]==t)return parseInt(n);return-1}}windowWidth=jQuery(window).width();windowHeight=jQuery(window).height();jQuery(window).bind("resize",onResizeAction)}if(r.settings.debug)jQuery(r.mySelector).append('<div style="position:absolute;padding:5px;border:1px solid gray; color: red; top:10px;left:10px;display:inline-block;background:white;z-index:9999;" id="isalive-'+r.uniqId+'-debuger" class="isalive-debuger"><span>'+r.settings.start+"</span></div>");if(r.settings.elementsType=="tree"){var i={};var s=0;for(t in r.settings.elements){for(n in r.settings.elements[t]){i[s]={};i[s]=jQuery.extend({selector:t},r.settings.elements[t][n]);s++}delete r.settings.elements[t]}r.settings.elements=jQuery.extend({},i)}r.params.windowWidth=jQuery(window).width();r.params.windowHeight=jQuery(window).height();r.params.documentWidth=jQuery(document).width();r.params.documentHeight=jQuery(document).height();r.params.elementHeight=jQuery(r.mySelector).height();r.params.elementWidth=jQuery(r.mySelector).width();r.params.elementTop=jQuery(r.mySelector).offset().top;r.params.elementLeft=jQuery(r.mySelector).offset().left;if(indexOf(["linear","ease","ease-in","ease-out","ease-in-out"],r.settings.CSS3Easing)==-1&&r.settings.CSS3Easing.indexOf("cubic-bezier")==-1)r.settings.CSS3Easing="linear";if(typeof jQuery.easing[r.settings.easing]=="undefined")r.settings.easing="linear";if(r.settings.maxScroll<r.settings.stepsOnScroll)r.settings.maxScroll=r.settings.stepsOnScroll;if(r.settings.maxDrag<r.settings.stepsOnDrag)r.settings.maxDrag=r.settings.stepsOnDrag;if(r.settings.enableTouch&&r.settings.touchType=="wipe"&&r.settings.wipePoints.length<=1)r.settings.enableTouch=false;if(r.settings.enableTouch&&ieFound&&browserVer>=10&&r.settings.stopTouch){r.msTouchAction=jQuery(r.mySelector).css("-ms-touch-action");jQuery(r.mySelector).css("-ms-touch-action","none")}if(r.settings.enableTouch&&r.settings.touchType=="wipe")r.settings.wipePoints.sort(function(e,t){return e-t});if(r.settings.enableScroll&&r.settings.scrollType=="jump"&&r.settings.jumpPoints.length<=1)r.settings.enableScroll=false;if(r.settings.enableScroll&&r.settings.scrollType=="jump")r.settings.jumpPoints.sort(function(e,t){return e-t});r.settings.playPoints.sort(function(e,t){return e-t});r.animateDuration=r.settings.duration;if(r.settings.scrollbarType!="scroll"&&r.settings.scrollbarPoints.length==0)r.settings.scrollbarType="scroll";if(typeof r.settings.durationTweaks["jump"]=="undefined")r.settings.durationTweaks["jump"]={};if(typeof r.settings.durationTweaks["wipe"]=="undefined")r.settings.durationTweaks["wipe"]={};if(typeof r.settings.durationTweaks["scrollbar"]=="undefined")r.settings.durationTweaks["scrollbar"]={};r.settings.durationTweaks["jump"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["jump"]);r.settings.durationTweaks["wipe"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["wipe"]);r.settings.durationTweaks["scrollbar"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["scrollbar"]);if(r.settings.min>0)r.settings.loop=false;r.settings.touchActions=jQuery.extend({up:1,down:-1,right:0,left:0},r.settings.touchActions);if(ieFound&&browserVer<10&&r.settings.useCSS3)r.settings.useCSS3=false;r.haveStepPoints=r.settings.stepPointsSelector!=null&&r.settings.stepPointsActiveClass!=null&&r.settings.stepPoints.length>0;r.settings.stepPoints.sort(function(e,t){return e-t});for(t in r.settings.elements){if(typeof r.settings.elements[t]["+browsers"]!="undefined"){if(!validateBrowsers(r.settings.elements[t]["+browsers"]))delete r.settings.elements[t]}else if(typeof r.settings.elements[t]["-browsers"]!="undefined"){if(validateBrowsers(r.settings.elements[t]["-browsers"]))delete r.settings.elements[t]}}var o=[];var u=1;var a=1;for(t in r.settings.elements){if(typeof r.settings.elements[t]["childrens"]!="undefined"){jQuery(r.settings.elements[t]["selector"]).find(r.settings.elements[t]["childrens"]).each(function(e,n){var i=jQuery(n);if(typeof i.attr("id")=="undefined"){var s="isalive-"+r.uniqId+"-element-"+u;u++;i.attr("id",s)}else var s=i.attr("id");var a=jQuery.extend(true,{},r.settings.elements[t]);a["selector"]="#"+s;delete a["childrens"];o.push(a)});delete r.settings.elements[t]}}for(t in o){r.settings.elements["ISALIVE_OBJECT_"+a]=o[t];a++}var f=[];for(t in r.settings.elements){if(jQuery(r.settings.elements[t]["selector"]).length==0||typeof r.settings.elements[t]["selector"]=="undefined"||typeof r.settings.elements[t]["method"]=="undefined")delete r.settings.elements[t];else if(typeof r.settings.elements[t]["property"]!="undefined"){if(typeof r.settings.elements[t]["property"]=="function"){if(typeof r.functionsArray["f:"+toString(r.settings.elements[t]["property"])]=="undefined")r.functionsArray["f:"+toString(r.settings.elements[t]["property"])]=r.settings.elements[t]["property"];r.settings.elements[t]["property"]="f:"+toString(r.settings.elements[t]["property"]);r.settings.elements[t]["useCSS3"]=false}r.settings.elements[t]["property"]=jQuery.trim(r.settings.elements[t]["property"]).toLowerCase();if(r.settings.elements[t]["property"]=="scrolltop")r.settings.elements[t]["property"]="scrollTop";if(r.settings.elements[t]["property"]=="scrollleft")r.settings.elements[t]["property"]="scrollLeft";if(isCSS3(r.settings.elements[t]["property"])&&ieFound&&browserVer<9){delete r.settings.elements[t];continue}if(r.settings.elements[t]["method"]=="animate"&&r.settings.elements[t]["useCSS3"]&&ieFound&&browserVer<10){delete r.settings.elements[t]["useCSS3"];delete r.settings.elements[t]["CSS3Easing"]}r.settings.elements[t]["property"]=fixCSS3(r.settings.elements[t]["property"]);if(typeof r.settings.elements[t]["easing"]!="undefined"&&typeof jQuery.easing[r.settings.elements[t]["easing"]]=="undefined")delete r.settings.elements[t]["easing"];if(typeof r.settings.elements[t]["CSS3Easing"]!="undefined"&&indexOf(["linear","ease","ease-in","ease-out","ease-in-out"],r.settings.elements[t]["CSS3Easing"])==-1&&r.settings.elements[t]["CSS3Easing"].indexOf("cubic-bezier")==-1)delete r.settings.elements[t]["CSS3Easing"];if(r.settings.elements[t]["method"]=="animate"&&(r.settings.elements[t]["useCSS3"]||r.settings.useCSS3)&&(r.settings.elements[t]["property"]=="scrollTop"||r.settings.elements[t]["property"]=="scrollleft")){r.settings.elements[t]["useCSS3"]=false}if(r.settings.elements[t]["method"]=="animate"&&indexOf(f,r.settings.elements[t]["selector"])==-1){jQuery(r.settings.elements[t]["selector"]).addClass(r.settings.animateClass);f.push(r.settings.elements[t]["selector"])}if(r.settings.elements[t]["method"]=="animate-set")if(typeof r.settings.elements[t]["move-on"]=="undefined")r.settings.elements[t]["move-on"]=1;if(r.settings.elements[t]["method"]=="set@start"&&r.settings.initCSS)delete r.settings.elements[t]}}jQuery(r.mySelector).addClass(r.settings.animateClass);if(r.settings.enableGPU=="none"||typeof myBrowserObj.webkit=="undefined")var l=false;else var l=validateBrowsers(r.settings.enableGPU);var f=[];var c=[];for(t in r.settings.elements){if(!ieFound||ieFound&&browserVer>9)if(typeof r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=="undefined"){var h=[];var p=jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-property"));var d=jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-duration"));if(p!="all"||d!="0s"){h.push(p);h.push(d);h.push(jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-timing-function")));h.push(jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-delay")));r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=h}else r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=null}if(ieFound&&browserVer<9&&r.settings.elements[t]["property"]=="opacity"&&indexOf(f,r.settings.elements[t]["selector"])==-1){var v=parseFloat(jQuery(r.settings.elements[t]["selector"]).css("opacity"));jQuery(r.settings.elements[t]["selector"]).css("opacity",v);f.push(r.settings.elements[t]["selector"])}if(l&&(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set")&&indexOf(c,r.settings.elements[t]["selector"])==-1){jQuery(r.settings.elements[t]["selector"]).css("-webkit-backface-visibility","hidden");jQuery(r.settings.elements[t]["selector"]).css("-webkit-perspective","1000");c.push(r.settings.elements[t]["selector"])}}for(t in r.CSS3DefaultTransitionArray){if(r.CSS3DefaultTransitionArray[t]==null){delete r.CSS3DefaultTransitionArray[t];continue}var f=[];for(n in r.CSS3DefaultTransitionArray[t]){if(r.CSS3DefaultTransitionArray[t][n].indexOf("cubic-bezier")==-1)f.push(r.CSS3DefaultTransitionArray[t][n].split(","));else{var m=r.CSS3DefaultTransitionArray[t][n].split("(");for(var g in m){if(m[g].indexOf(")")!=-1){m[g]=m[g].split(")");m[g][0]=m[g][0].replace(/,/g,"*char*");m[g]=m[g].join(")")}}f.push(m.join("(").split(","))}delete r.CSS3DefaultTransitionArray[t][n]}for(n in f[0]){var y=[];y.push(jQuery.trim(f[0][n]));y.push(jQuery.trim(f[1][n]));y.push(jQuery.trim(f[2][n]));y.push(jQuery.trim(f[3][n]));r.CSS3DefaultTransitionArray[t][jQuery.trim(f[0][n])]=y.join(" ").replace(/\*char\*/g,",")}}if(r.settings.max==null){r.settings.max=0;for(t in r.settings.elements){if(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set"){if(typeof r.settings.elements[t]["step-end"]!="undefined"&&r.settings.elements[t]["step-end"]>r.settings.max)r.settings.max=r.settings.elements[t]["step-end"]}else if(r.settings.elements[t]["method"]=="set"){if(typeof r.settings.elements[t]["step-from"]!="undefined"&&r.settings.elements[t]["step-from"]>r.settings.max)r.settings.max=r.settings.elements[t]["step-from"]}}}r.step=r.settings.start;r.lastStep=r.settings.start;for(t in r.settings.elements){if(r.settings.elements[t]["scrollbar"]){if(typeof r.settings.elements[t]["step-start"]=="undefined")r.settings.elements[t]["step-start"]=0;if(typeof r.settings.elements[t]["step-end"]=="undefined")r.settings.elements[t]["step-end"]=r.settings.max}if((r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set")&&typeof r.settings.elements[t]["value-start"]=="undefined")r.settings.elements[t]["value-start"]=r.getStartCssValue(t);else if(r.settings.elements[t]["method"]=="set"&&typeof r.settings.elements[t]["value-under"]=="undefined")r.settings.elements[t]["value-under"]=r.getStartCssValue(t)}for(t in r.settings.elements){if(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set"){if(isDinamic(r.settings.elements[t]["value-start"])||isDinamic(r.settings.elements[t]["value-end"])){if(r.settings.elements[t]["scrollbar"]==true)var i=jQuery.extend(true,{key:parseInt(t)},r.settings.elements[t]);else var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssDinamicElements.push(i)}r.settings.elements[t]["value-start"]=r.convertParams(r.settings.elements[t]["value-start"]);r.settings.elements[t]["value-end"]=r.convertParams(r.settings.elements[t]["value-end"])}else if(r.settings.elements[t]["method"]=="set"){if(isDinamic(r.settings.elements[t]["value-under"])||isDinamic(r.settings.elements[t]["value-above"])){var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssDinamicElements.push(i)}r.settings.elements[t]["value-under"]=r.convertParams(r.settings.elements[t]["value-under"]);r.settings.elements[t]["value-above"]=r.convertParams(r.settings.elements[t]["value-above"]);r.settings.elements[t]["value-under"]=addFormat(r.settings.elements[t]["value-under"],r.settings.elements[t]["format"]);r.settings.elements[t]["value-above"]=addFormat(r.settings.elements[t]["value-above"],r.settings.elements[t]["format"])}else if(r.settings.elements[t]["method"]=="static"){var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssStaticElements.push(i);delete r.settings.elements[t]}else if(r.settings.elements[t]["method"]=="set@start"){var b=r.convertParams(r.settings.elements[t]["value"]);b=addFormat(b,r.settings.elements[t]["format"]);r.setCSS(r.settings.elements[t]["selector"],r.settings.elements[t]["property"],b);delete r.settings.elements[t]}}r.resetStaticCssValues();r.createElementsArray();for(t in r.settings.elements){if(r.settings.elements[t]["method"]!="animate"){delete r.settings.elements[t];continue}if(r.settings.elements[t]["scrollbar"]!=true){delete r.settings.elements[t]["value-start"];delete r.settings.elements[t]["value-end"]}else if(r.settings.elements[t]["method"]=="animate"&&(r.settings.elements[t]["property"]=="top"||r.settings.elements[t]["property"]=="left")){jQuery(r.settings.elements[t]["selector"]).attr("isalive-"+r.uniqId+"-scrollbar",t);jQuery(r.settings.elements[t]["selector"]).each(function(){var e=this;var t=function(t,n,i){if(r.forceAnimation)return false;if(window.navigator.msPointerEnabled&&!r.settings.enableScrollbarTouch)if(t.pointerType!=t.MSPOINTER_TYPE_MOUSE)return false;var s,o,u,a,f,l,c,h;var p=jQuery(i).attr("isalive-"+r.uniqId+"-scrollbar");r.scrollbarActive=p;if(n=="mousedown"){jQuery("body").bind("selectstart.disableSelection",function(e){e.preventDefault()});s=jQuery("body").attr("unselectable");o=jQuery("body").css("user-select");jQuery("body").attr("unselectable","on").css("user-select","none")}if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[p]["selector"]).addClass(r.settings.scrollbarActiveClass);if(n=="mousedown"){if(r.settings.elements[p]["property"]=="top"){u=jQuery(e).parent().offset().top;a=t.pageY-jQuery(e).offset().top}else{u=jQuery(e).parent().offset().left;a=t.pageX-jQuery(e).offset().left}}else if(n=="touchstart"){if(r.settings.elements[p]["property"]=="top"){u=jQuery(e).parent().offset().top;a=t.touches[0].pageY-jQuery(e).offset().top}else{u=jQuery(e).parent().offset().left;a=t.touches[0].pageX-jQuery(e).offset().left}}c=r.getPos(Math.round(r.lastStep));var d=function(e,t){if(t=="mousemove"){if(r.settings.elements[p]["property"]=="top")var n=e.pageY-u-a;else var n=e.pageX-u-a}else if(t=="touchmove"){if(r.settings.elements[p]["property"]=="top")var n=e.touches[0].pageY-u-a;else var n=e.touches[0].pageX-u-a}if(n>=r.settings.elements[p]["value-start"]&&n<=r.settings.elements[p]["value-end"])jQuery(r.settings.elements[p]["selector"]).css(r.settings.elements[p]["property"],n);else if(n<r.settings.elements[p]["value-start"]){jQuery(r.settings.elements[p]["selector"]).css(r.settings.elements[p]["property"],r.settings.elements[p]["value-start"]);n=r.settings.elements[p]["value-start"]}else if(n>r.settings.elements[p]["value-end"]){jQuery(r.settings.elements[p]["selector"]).css(r.settings.elements[p]["property"],r.settings.elements[p]["value-end"]);n=r.settings.elements[p]["value-end"]}h=false;f=r.settings.elements[p]["step-start"]+Math.round(Math.abs(r.settings.elements[p]["step-end"]-r.settings.elements[p]["step-start"])*((n-r.settings.elements[p]["value-start"])/Math.abs(r.settings.elements[p]["value-end"]-r.settings.elements[p]["value-start"])));if(r.settings.scrollbarType=="scroll"){l=r.settings.elements[p]["step-start"]+Math.round((f-r.settings.elements[p]["step-start"])/r.settings.stepsOnScrollbar)*r.settings.stepsOnScrollbar;if(Math.abs(c-l)>=r.settings.stepsOnScrollbar)h=true;else if(f!=c&&(f==r.settings.elements[p]["step-start"]||f==r.settings.elements[p]["step-end"])){h=true;l=f}}else{if(c<f){for(var i=f;i>=c+1;i--){if(indexOf(r.settings.scrollbarPoints,i)!=-1){h=true;l=i;break}}}else if(c>f){for(var i=f;i<=c-1;i++){if(indexOf(r.settings.scrollbarPoints,i)!=-1){h=true;l=i;break}}}}if(h){c=l;if(r.getPos(r.lastStep)<l)r.goTo({to:l,orientation:"next",animationType:"scrollbar",duration:r.settings.durationTweaks["scrollbar"]["duration"],durationType:r.settings.durationTweaks["scrollbar"]["durationType"],minStepDuration:r.settings.durationTweaks["scrollbar"]["minStepDuration"]});else if(r.getPos(r.lastStep)>l)r.goTo({to:l,orientation:"prev",animationType:"scrollbar",duration:r.settings.durationTweaks["scrollbar"]["duration"],durationType:r.settings.durationTweaks["scrollbar"]["durationType"],minStepDuration:r.settings.durationTweaks["scrollbar"]["minStepDuration"]})}};if(n=="mousedown"){jQuery(document).bind("mousemove.myEventMouseMove",function(e){d(e,"mousemove")});jQuery(document).bind("mouseup.myEventMouseUp",function(){jQuery(document).unbind("mousemove.myEventMouseMove");jQuery(document).unbind("mouseup.myEventMouseUp");jQuery("body").unbind("selectstart.disableSelection");typeof s!="undefined"?jQuery("body").attr("unselectable",s):jQuery("body").removeAttr("unselectable");typeof o!="undefined"?jQuery("body").css("user-select",o):false;if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[p]["selector"]).removeClass(r.settings.scrollbarActiveClass)})}if(n=="touchstart"){var v=function(e){e.preventDefault();d(e,"touchmove")};e.addEventListener("touchmove",v,false);var m=function(t){e.removeEventListener("touchmove",v);e.removeEventListener("touchend",m);if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[p]["selector"]).removeClass(r.settings.scrollbarActiveClass)};e.addEventListener("touchend",m,false)}};if(window.navigator.msPointerEnabled){if(r.settings.enableScrollbarTouch)jQuery(e).css("-ms-touch-action","none");e.addEventListener("MSPointerDown",function(e){t(e,"mousedown",this);e.stopPropagation()},false)}else if("onmousedown"in document.documentElement){jQuery(e).bind("mousedown",function(e){t(e,"mousedown",this);e.stopPropagation()})}if("ontouchstart"in document.documentElement&&r.settings.enableScrollbarTouch){e.addEventListener("touchstart",function(e){t(e,"touchstart",this);e.stopPropagation()},false)}})}}r.bindScrollTouchEvents();if(r.settings.initCSS)r.initCSS();r.settings.max++;if(this.settings.onLoadingComplete!=null)this.settings.onLoadingComplete(r.mySelector)};isAlive.prototype.animateSite=function(){var e=this;jQuery("."+e.settings.animateClass).stop();e.animating=true;var t;var n={};var r;var i;var s;var o;var u;var a;var f;var l;if(e.step==e.lastStep){e.animating=false;e.animationType="none";e.animateDuration=e.settings.duration;e.forceAnimation=false;return}l=e.l(e.lastStep)!=e.l(e.step);if(e.step>e.lastStep){f=true;for(t in e.settings.elements){if(e.animationType=="scrollbar"&&t==e.scrollbarActive)continue;if((e.settings.elements[t]["step-end"]+e.l(e.lastStep)<=e.lastStep||e.settings.elements[t]["step-start"]+e.l(e.lastStep)>=e.step)==false){a=e.l(e.lastStep);if(e.settings.elements[t]["step-start"]+a<=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-start"]+a;if(e.settings.elements[t]["step-end"]+a>=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-end"];s=Math.floor(e.animateDuration/(e.step-e.lastStep)*(i+a-r))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]};if(e.settings.useCSS3&&e.settings.elements[t]["useCSS3"]!=false||e.settings.elements[t]["useCSS3"]==true){n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["CSS3"]=true;if(typeof e.settings.elements[t]["CSS3Easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["CSS3Easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.CSS3Easing}else{if(typeof e.settings.elements[t]["easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.easing}}if(l&&(e.settings.elements[t]["step-end"]+e.l(e.step)<=e.lastStep||e.settings.elements[t]["step-start"]+e.l(e.step)>=e.step)==false){a=e.l(e.step);if(e.settings.elements[t]["step-start"]+a<=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-start"]+a;if(e.settings.elements[t]["step-end"]+a>=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-end"];s=Math.floor(e.animateDuration/(e.step-e.lastStep)*(i+a-r))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]};if(e.settings.useCSS3&&e.settings.elements[t]["useCSS3"]!=false||e.settings.elements[t]["useCSS3"]==true){n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["CSS3"]=true;if(typeof e.settings.elements[t]["CSS3Easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["CSS3Easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.CSS3Easing}else{if(typeof e.settings.elements[t]["easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.easing}}}}else{f=false;for(t in e.settings.elements){if(e.animationType=="scrollbar"&&t==e.scrollbarActive)continue;if((e.settings.elements[t]["step-end"]+e.l(e.step)<=e.step||e.settings.elements[t]["step-start"]+e.l(e.step)>=e.lastStep)==false){a=e.l(e.step);if(e.settings.elements[t]["step-end"]+a>=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-end"]+a;if(e.settings.elements[t]["step-start"]+a<=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-start"];s=Math.floor(e.animateDuration/(e.lastStep-e.step)*(r-(i+a)))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]};if(e.settings.useCSS3&&e.settings.elements[t]["useCSS3"]!=false||e.settings.elements[t]["useCSS3"]==true){n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["CSS3"]=true;if(typeof e.settings.elements[t]["CSS3Easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["CSS3Easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.CSS3Easing}else{if(typeof e.settings.elements[t]["easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.easing}}if(l&&(e.settings.elements[t]["step-end"]+e.l(e.lastStep)<=e.step||e.settings.elements[t]["step-start"]+e.l(e.lastStep)>=e.lastStep)==false){a=e.l(e.lastStep);if(e.settings.elements[t]["step-end"]+a>=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-end"]+a;if(e.settings.elements[t]["step-start"]+a<=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-start"];s=Math.floor(e.animateDuration/(e.lastStep-e.step)*(r-(i+a)))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]};if(e.settings.useCSS3&&e.settings.elements[t]["useCSS3"]!=false||e.settings.elements[t]["useCSS3"]==true){n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["CSS3"]=true;if(typeof e.settings.elements[t]["CSS3Easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["CSS3Easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.CSS3Easing}else{if(typeof e.settings.elements[t]["easing"]!="undefined")n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.elements[t]["easing"];else n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]["easing"]=e.settings.easing}}}}var c=e.lastStep;var h=e.step;var p=true;var d=false;var v={};var m=e.lastStep;var g=["background-position","color","background-color",fixCSS3("transform")];jQuery(e.mySelector).animate({timer:"+=100"},{duration:e.animateDuration,easing:"linear",queue:false,complete:function(){var t;e.animating=false;e.animationType="none";e.animateDuration=e.settings.duration;e.forceAnimation=false;for(t in e.CSS3TransitionArray){delete e.CSS3TransitionArray[t];jQuery(t).css(fixCSS3("transition"),e.getTransitionArray(t))}if(e.rebuildOnStop){e.rebuildLayout();e.rebuildOnStop=false}if(e.onComplete!==null){e.onComplete();e.onComplete=null}},step:function(t,r){var i,s,o,a,l,y,b;var w=Math.round((c+(h-c)/100*(t-r.start))*100)/100;e.lastStep=w;var E=false;if(p){E=true;s=w}else if(f&&Math.floor(w)>m){E=true;s=Math.floor(w)}else if(!f&&Math.ceil(w)<m){E=true;s=Math.ceil(w)}if(E){if(p){o=m;p=false}else{if(f)o=m+1;else o=m-1}while(f&&o<=s||!f&&o>=s){if(o!=c&&typeof e.setArray["any"][e.getPos(o)]!="undefined")for(a in e.setArray["any"][e.getPos(o)])for(l in e.setArray["any"][e.getPos(o)][a])e.setCSS(a,l,e.setArray["any"][e.getPos(o)][a][l]);if(o==parseInt(o)){b=null;if(f){if(o!=c)b="forward"}else if(o!=h)b="backward";if(b!==null){if(typeof e.setArray[b][e.getPos(o)]!="undefined"){for(a in e.setArray[b][e.getPos(o)]){for(l in e.setArray[b][e.getPos(o)][a])e.setCSS(a,l,e.setArray[b][e.getPos(o)][a][l])}}if(typeof e.onOffClassArray[b][e.getPos(o)]!="undefined"){for(a in e.onOffClassArray[b][e.getPos(o)]){for(y in e.onOffClassArray[b][e.getPos(o)][a]){if(e.onOffClassArray[b][e.getPos(o)][a][y]==true)jQuery(a).addClass(y);else jQuery(a).removeClass(y)}}}}}if(o!=h&&typeof n[o]!="undefined"){for(id in n[o]){for(i in n[o][id]){u=0;if(f&&n[o][id][i]["end"]-e.getPos(w)>0)u=n[o][id][i]["duration"]*((n[o][id][i]["end"]-e.getPos(w))/(n[o][id][i]["end"]-e.getPos(o)));else if(!f&&e.getPos(w)-n[o][id][i]["end"]>0)u=n[o][id][i]["duration"]*((e.getPos(w)-n[o][id][i]["end"])/(e.getPos(o)-n[o][id][i]["end"]));if(n[o][id][i]["CSS3"]!=true){if(indexOf(g,i)==-1&&typeof e.functionsArray[i]=="undefined"){var S={};S[i]=n[o][id][i]["to"];jQuery(id).animate(S,{duration:u,easing:n[o][id][i]["easing"],queue:false})}else e.myAnimate(o,id,i,n[o][id][i]["to"],u,n[o][id][i]["easing"])}else{v[i]=n[o][id][i]["to"];if(typeof e.CSS3TransitionArray[id]=="undefined")e.CSS3TransitionArray[id]={};e.CSS3TransitionArray[id][i]=i+" "+parseFloat(u/1e3)+"s "+n[o][id][i]["easing"];d=true}}if(d){e.setCSS(id,v);v={};d=false}}}if(o!=c){if(e.haveStepPoints){var x=indexOf(e.settings.stepPoints,e.getPos(o));if(x!=-1){jQuery(e.settings.stepPointsSelector).removeClass(e.settings.stepPointsActiveClass);jQuery(e.settings.stepPointsSelector).eq(x).addClass(e.settings.stepPointsActiveClass)}}if(e.settings.onStep!=null)e.settings.onStep(e.getPos(o),Math.floor(o/e.settings.max),e.animationType)}if(f){m=Math.floor(o);o=Math.floor(o)+1}else{m=Math.ceil(o);o=Math.ceil(o)-1}}}}})};isAlive.prototype.doJump=function(e){var t=this;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0){clearTimeout(t.waitScrollTimer);t.waitScrollTimer=setTimeout(function(){t.waitScrollEnd=false},t.settings.scrollDelay)}if(!t.allowScroll||t.forceAnimation)return false;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0&&t.waitScrollEnd&&t.animating&&t.animationType=="jump"&&(t.lastStep<t.step&&e||t.lastStep>t.step&&!e))return false;if(t.settings.scrollDelay===false&&t.animating&&t.animationType=="jump"&&(t.lastStep<t.step&&e||t.lastStep>t.step&&!e))return false;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0)t.waitScrollEnd=true;if(!t.animating||t.animating&&t.animationType!="jump"||t.animating&&t.animationType=="jump"&&(t.lastStep<t.step&&!e||t.lastStep>t.step&&e)){var n=t.getPos(Math.round(t.lastStep));t.jumpPosition=indexOf(t.settings.jumpPoints,n);if(t.jumpPosition==-1){t.jumpPosition=null;if(n<=t.settings.jumpPoints[0]){if(e)t.jumpPosition=-1;else t.jumpPosition=0}else{for(var r=0;r<=t.settings.jumpPoints.length-2;r++)if(n>t.settings.jumpPoints[r]&&n<t.settings.jumpPoints[r+1]){if(e)t.jumpPosition=r;else t.jumpPosition=r+1;break}if(t.jumpPosition==null){if(e)t.jumpPosition=t.settings.jumpPoints.length-1;else t.jumpPosition=t.settings.jumpPoints.length}}}}if(e){if(t.jumpPosition<t.settings.jumpPoints.length-1){t.jumpPosition++;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}else if(t.jumpPosition==t.settings.jumpPoints.length-1&&t.settings.loop){t.jumpPosition=0;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}}else{if(t.jumpPosition>0){t.jumpPosition--;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}else if(t.jumpPosition==0&&t.settings.loop){t.jumpPosition=t.settings.jumpPoints.length-1;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}}};isAlive.prototype.doScroll=function(e){var t=this;if(!t.allowScroll||t.forceAnimation)return false;if(t.animating&&t.animationType!="scroll"){t.animateDuration=t.settings.duration;t.step=Math.round(t.lastStep);t.onComplete=null}else if(t.animating&&t.animationType=="scroll"&&(t.lastStep<t.step&&!e||t.lastStep>t.step&&e))t.step=Math.round(t.lastStep);if(e){if((t.step+t.settings.stepsOnScroll<=t.settings.max-1||t.settings.loop)&&t.step+t.settings.stepsOnScroll-t.lastStep<t.settings.max*2&&Math.abs(t.step+t.settings.stepsOnScroll-t.lastStep)<=t.settings.maxScroll)t.step=t.step+t.settings.stepsOnScroll;else if(t.step<t.settings.max-1&&t.step+t.settings.stepsOnScroll>t.settings.max-1&&!t.settings.loop&&Math.abs(t.settings.max-1-t.lastStep)<=t.settings.maxScroll){t.step=t.settings.max-1}else return}else{if((t.step-t.settings.stepsOnScroll>=t.settings.min||t.settings.loop)&&t.lastStep-(t.step-t.settings.stepsOnScroll)<t.settings.max*2&&Math.abs(t.step-t.settings.stepsOnScroll-t.lastStep)<=t.settings.maxScroll)t.step=t.step-t.settings.stepsOnScroll;else if(t.step>t.settings.min&&t.step-t.settings.stepsOnScroll<t.settings.min&&!t.settings.loop&&t.lastStep<=t.settings.maxScroll)t.step=t.settings.min;else return}if(t.settings.debug)jQuery("#isalive-"+t.uniqId+"-debuger span:first").html(t.step);clearTimeout(t.scrollTimer);if(!t.animating||t.animating&&t.animationType!="scroll"){t.animationType="scroll";t.animateSite()}else{t.scrollTimer=setTimeout(function(){t.animationType="scroll";t.animateSite()},20)}};isAlive.prototype.doWipeTouch=function(e){var t=this;if(t.forceAnimation)return false;if(t.animationType!="touchWipe"||t.animationType=="touchWipe"&&(t.lastStep<t.step&&e==-1||t.lastStep>t.step&&e==1)){var n=t.getPos(Math.round(t.lastStep));t.touchPosition=indexOf(t.settings.wipePoints,n);if(t.touchPosition==-1){t.touchPosition=null;if(n<=t.settings.wipePoints[0]){if(e==1)t.touchPosition=-1;else t.touchPosition=0}else{for(var r=0;r<=t.settings.wipePoints.length-2;r++)if(n>t.settings.wipePoints[r]&&n<t.settings.wipePoints[r+1]){if(e==1)t.touchPosition=r;else t.touchPosition=r+1;break}if(t.touchPosition==null){if(e==1)t.touchPosition=t.settings.wipePoints.length-1;else t.touchPosition=t.settings.wipePoints.length}}}}if(e==1){if(t.touchPosition<t.settings.wipePoints.length-1){t.touchPosition++;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"next",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}else if(t.touchPosition==t.settings.wipePoints.length-1&&t.settings.loop){t.touchPosition=0;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"next",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}}if(e==-1){if(t.touchPosition>0){t.touchPosition--;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"prev",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}else if(t.touchPosition==0&&t.settings.loop){t.touchPosition=t.settings.wipePoints.length-1;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"prev",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}}};isAlive.prototype.doDragTouch=function(e){var t=this;if(t.forceAnimation)return false;if(t.animating&&t.animationType!="dragTouch"){t.animateDuration=t.settings.duration;t.step=Math.round(t.lastStep);t.onComplete=null}if(t.animating&&t.animationType=="dragTouch"&&t.newDragStarted&&(t.lastStep<t.step&&e==-1||t.lastStep>t.step&&e==1)){t.step=Math.round(t.lastStep);t.newDragStarted=false}if(e==1){if((t.step+t.settings.stepsOnDrag<=t.settings.max-1||t.settings.loop)&&t.step+t.settings.stepsOnDrag-t.lastStep<t.settings.max*2&&Math.abs(t.step+t.settings.stepsOnDrag-t.lastStep)<=t.settings.maxDrag)t.step=t.step+t.settings.stepsOnDrag;else if(t.step<t.settings.max-1&&t.step+t.settings.stepsOnDrag>t.settings.max-1&&!t.settings.loop&&Math.abs(t.settings.max-1-t.lastStep)<=t.settings.maxDrag)t.step=t.settings.max-1;else return}else{if((t.step-t.settings.stepsOnDrag>=t.settings.min||t.settings.loop)&&t.lastStep-(t.step-t.settings.stepsOnDrag)<t.settings.max*2&&Math.abs(t.step-t.settings.stepsOnDrag-t.lastStep)<=t.settings.maxDrag)t.step=t.step-t.settings.stepsOnDrag;else if(t.step>t.settings.min&&t.step-t.settings.stepsOnDrag<t.settings.min&&!t.settings.loop&&t.lastStep<=t.settings.maxDrag)t.step=t.settings.min;else return}if(t.settings.debug)jQuery("#isalive-"+t.uniqId+"-debuger span:first").html(t.step);t.animationType="dragTouch";t.animateSite()};isAlive.prototype.goTo=function(e){settings=jQuery.extend({to:null,duration:null,durationType:"default",orientation:"default",animationType:"goTo",onComplete:null,minStepDuration:null,force:false},e);var t=this;var n,r,i;if(t.forceAnimation||settings.to==null||settings.to<0||settings.to>t.settings.max-1)return false;t.animationType=settings.animationType;t.forceAnimation=settings.force;n=settings.to+Math.floor(t.lastStep/t.settings.max)*t.settings.max;if(Math.abs(n-t.lastStep)>=t.settings.max*2)return;if(t.settings.loop){if(settings.orientation=="loop"){if(t.lastStep<=n)r=n;else r=settings.to+(Math.floor(t.lastStep/t.settings.max)+1)*t.settings.max;if(t.lastStep>=n)i=n;else i=settings.to+(Math.floor(t.lastStep/t.settings.max)-1)*t.settings.max;if(Math.abs(t.lastStep-r)>Math.abs(t.lastStep-i))n=i;else n=r}else if(settings.orientation=="next"){if(t.lastStep>n)n=settings.to+(Math.floor(t.lastStep/t.settings.max)+1)*t.settings.max}else if(settings.orientation=="prev"){if(t.lastStep<n)n=settings.to+(Math.floor(t.lastStep/t.settings.max)-1)*t.settings.max}}t.step=n;if(settings.minStepDuration==null)var s=t.settings.minStepDuration;else var s=settings.minStepDuration;if(settings.durationType=="step"&&settings.duration!=null){if(settings.duration<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=Math.abs(t.lastStep-t.step)*settings.duration}else{if(settings.duration==null){if(t.settings.duration/Math.abs(t.lastStep-t.step)<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=t.settings.duration}else{if(settings.duration/Math.abs(t.lastStep-t.step)<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=settings.duration}}t.onComplete=null;if(settings.onComplete!==null&&typeof settings.onComplete=="function")t.onComplete=settings.onComplete;t.animateSite()};isAlive.prototype.skip=function(e){var t=this;if(e<0||e>t.settings.max-1)return false;t.stop();if(t.getPos(t.step)==e)return false;var n,r;var i,s,o;var u={};var a={};var f=0;var l,c,h;r=t.step;s=-1;i=-1;while(r<=e&&t.getPos(t.step)<e||r>=e&&t.getPos(t.step)>e){if(t.haveStepPoints){i=indexOf(t.settings.stepPoints,r);if(i!=-1)s=i}if(typeof t.setArray["any"][r]!="undefined"){for(l in t.setArray["any"][r]){for(c in t.setArray["any"][r][l]){if(typeof u[l]=="undefined")u[l]={};u[l][c]=t.setArray["any"][r][l][c]}}}e>t.step?o="forward":r!=e?o="backward":o=null;if(o!=null){if(typeof t.setArray[o][r]!="undefined"){for(l in t.setArray[o][r]){if(typeof u[l]=="undefined")u[l]={};for(c in t.setArray[o][r][l])u[l][c]=t.setArray[o][r][l][c]}}if(typeof t.onOffClassArray[o][r]!="undefined"){for(l in t.onOffClassArray[o][r]){if(typeof a[l]=="undefined")a[l]={};for(h in t.onOffClassArray[o][r][l])a[l][h]=t.onOffClassArray[o][r][l][h]}}}if(typeof t.animPositions[r]!="undefined"){for(l in t.animPositions[r]){if(typeof u[l]=="undefined")u[l]={};for(c in t.animPositions[r][l])u[l][c]=t.animPositions[r][l][c]}}if(t.settings.onStep!=null)t.settings.onStep(r,Math.floor(r/t.settings.max),"skip");if(t.getPos(t.step)<e)r=r+1;else r=r-1}for(l in a)for(h in a[l]){if(a[l][h]==true)jQuery(l).addClass(h);else jQuery(l).removeClass(h)}for(l in u)for(c in u[l])t.setCSS(l,c,u[l][c]);if(s!=-1){jQuery(t.settings.stepPointsSelector).removeClass(t.settings.stepPointsActiveClass);jQuery(t.settings.stepPointsSelector).eq(s).addClass(t.settings.stepPointsActiveClass)}e=e+t.l(t.lastStep);t.step=e;t.lastStep=e};isAlive.prototype.stop=function(){var e=this;jQuery("."+e.settings.animateClass).stop();e.animating=false;e.forceAnimation=false;e.animationType="none";e.animateDuration=e.settings.duration;e.lastStep<e.step?e.step=Math.floor(e.lastStep):e.step=Math.ceil(e.lastStep);e.onComplete=null;for(var t in e.CSS3TransitionArray){delete e.CSS3TransitionArray[t];jQuery(t).css(fixCSS3("transition"),e.getTransitionArray(t))}if(e.rebuildOnStop){e.rebuildLayout();e.rebuildOnStop=false}};var methods={create:function(e,t){var n=e.selector;if(jQuery(n).length==0||typeof isAliveObjects[n]!="undefined")return false;if(typeof t=="undefined")t={};isAliveObjects[n]=new isAlive(n,t);return e},goTo:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;if(typeof t=="undefined")t={};isAliveObjects[n].goTo(t);return e},skip:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;if(typeof t=="undefined"||typeof t["to"]=="undefined")return false;isAliveObjects[n].skip(t["to"]);return e},play:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;var r=isAliveObjects[n].settings.playPoints;if(r.length<=1)return false;if(typeof t=="undefined")t={};var i=Math.floor(isAliveObjects[n].getPos(isAliveObjects[n].lastStep));var s=isAliveObjects[n].settings.max-1;var o=null;for(var u=i+1;u<=s;u++)if(indexOf(r,u)!=-1){o=u;break}if(o==null&&isAliveObjects[n].settings.loop)o=r[0];if(o==null)return false;t["to"]=o;t["orientation"]="next";t["animationType"]="play";isAliveObjects[n].goTo(t);return e},rewind:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;var r=isAliveObjects[n].settings.playPoints;if(r.length<=1)return false;if(typeof t=="undefined")t={};var i=Math.ceil(isAliveObjects[n].getPos(isAliveObjects[n].lastStep));var s=null;for(var o=i-1;o>=0;o--)if(indexOf(r,o)!=-1){s=o;break}if(s==null&&isAliveObjects[n].settings.loop)s=r[r.length-1];if(s==null)return false;t["to"]=s;t["orientation"]="prev";t["animationType"]="rewind";isAliveObjects[n].goTo(t);return e},stop:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].stop();return e},rebuild:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].rebuildLayout();return e},enableScroll:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].allowScroll=t;return e},enableTouch:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].allowTouch=t;if(t==true&&isAliveObjects[n].settings.enableTouch&&ieFound&&browserVer>=10&&isAliveObjects[n].settings.stopTouch){isAliveObjects[n].msTouchAction=jQuery(e.mySelector).css("-ms-touch-action");jQuery(n).css("-ms-touch-action","none")}else if(t==false&&isAliveObjects[n].settings.enableTouch&&ieFound&&browserVer>=10&&isAliveObjects[n].settings.stopTouch)jQuery(n).css("-ms-touch-action",isAliveObjects[n].msTouchAction);return e},addOnComplete:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined"||!isAliveObjects[n].animating)return false;if(typeof t=="function")isAliveObjects[n].onComplete=t;else return false;return e},getStepPosition:function(e){var t=e.selector;if(typeof isAliveObjects[t]=="undefined")return false;return isAliveObjects[t].getPos(isAliveObjects[t].step)},getMaxStep:function(e){var t=e.selector;if(typeof isAliveObjects[t]=="undefined")return false;return isAliveObjects[t].settings.max-1},getBrowser:function(){return myBrowserObj},getVersion:function(){return"1.1.0"}};jQuery.fn.isAlive=function(e,t){if(methods[e]){var n=methods[e];return n(this,t)}else return false}})(jQuery)