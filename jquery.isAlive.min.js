/*
 _       __                          __                                 _     
| |     / /__        _________  ____/ /__        ____ ___  ____ _____ _(_)____
| | /| / / _ \______/ ___/ __ \/ __  / _ \______/ __ `__ \/ __ `/ __ `/ / ___/
| |/ |/ /  __/_____/ /__/ /_/ / /_/ /  __/_____/ / / / / / /_/ / /_/ / / /__  
|__/|__/\___/      \___/\____/\__,_/\___/     /_/ /_/ /_/\__,_/\__, /_/\___/  
                                                              /____/          
jQuery.isAlive(1.4.0)
Written by George Cheteles (george@we-code-magic.com).
Licensed under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license. 
Please attribute the author if you use it.
Find me at:
	http://www.we-code-magic.com 
	office@we-code-magic.com
Last modification on this file: 22 November 2013
Minified with: http://jscompress.com/
*/
(function(jQuery){function canJQueryAnimate(e){if(e=="scrollTop"||e=="scrollLeft")return true;var t="borderWidth,borderBottomWidth,borderLeftWidth,borderRightWidth,borderTopWidth,borderSpacing,margin,marginBottom,marginLeft,marginRight,marginTop,outlineWidth,padding,paddingBottom,paddingLeft,paddingRight,paddingTop,height,width,maxHeight,maxWidth,minHeight,minWidth,fontSize,bottom,left,right,top,letterSpacing,wordSpacing,lineHeight,textIndent,opacity".split(",");if(e.indexOf("-")!=-1){e=e.toLowerCase().split("-");for(var n in e)if(n>0)e[n]=e[n].charAt(0).toUpperCase()+e[n].substr(1);e=e.join("")}return indexOf(t,e)!=-1}function getBetweenBrackets(text,doEval){var lastBracket;for(lastBracket=text.length;lastBracket>=0;lastBracket--)if(text.charAt(lastBracket)==")")break;if(typeof doEval=="undefined")return text.substr(text.indexOf("(")+1,lastBracket-text.indexOf("(")-1);var evalExp=text.substr(text.indexOf("(")+1,lastBracket-text.indexOf("(")-1);try{eval("evalExp = "+evalExp+";")}catch(err){}return evalExp+text.substr(lastBracket+1,text.length-lastBracket-1)}function hexToRgb(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function onResizeAction(e){var t;clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if(windowWidth!=jQuery(window).width()||windowHeight!=jQuery(window).height()){windowWidth=jQuery(window).width();windowHeight=jQuery(window).height();for(t in isAliveObjects)if(isAliveObjects[t].settings.rebuildOnResize)isAliveObjects[t].rebuildLayout()}},250)}function validateBrowsers(e){var t=function(e){var t=false;if(browserObj[e])t=true;if(e=="msie7-"&&browserObj.msie&&parseInt(browserObj.version)<7)t=true;if(e=="msie7"&&browserObj.msie&&parseInt(browserObj.version)==7)t=true;if(e=="msie8"&&browserObj.msie&&parseInt(browserObj.version)==8)t=true;if(e=="msie9"&&browserObj.msie&&parseInt(browserObj.version)==9)t=true;if(e=="msie10"&&browserObj.msie&&parseInt(browserObj.version)==10)t=true;if(e=="msie10+"&&browserObj.msie&&parseInt(browserObj.version)>10)t=true;if(e=="unknown"&&typeof browserObj.webkit=="undefined"&&typeof browserObj.mozilla=="undefined"&&typeof browserObj.opera=="undefined"&&typeof browserObj.msie=="undefined")t=true;return t};var n=false;e=e.split("|");for(var r in e){if(e[r].indexOf("&")!=-1){var i=e[r].split("&");if(i.length==2&&t(i[0])&&t(i[1]))n=true}else if(e[r].indexOf("!")!=-1){var i=e[r].split("!");if(i.length==2&&t(i[0])&&!t(i[2]))n=true}else if(t(e[r]))n=true}return n}function toString(e){if(typeof e=="function")return sdbmCode(e.toString()).toString();return e.toString()}function sdbmCode(e){var t=0;for(i=0;i<e.length;i++){var n=e.charCodeAt(i);t=n+(t<<6)+(t<<16)-t}return t}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function getBrowser(){var e,t;var n=navigator.userAgent||navigator.vendor||window.opera;jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};e=jQuery.uaMatch(navigator.userAgent);t={};var r=/(android|bb\d+|meego).+mobile|webos|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4));if(r)t.mobile=true;if(e.browser){t[e.browser]=true;t.version=e.version}if(t.chrome){t.webkit=true}else if(t.webkit){t.safari=true}return t}function isCSS3(e){var t=["transform","trasition","border-radius","background-size","box-shadow"];return indexOf(t,e)!=-1}function isDinamic(e){if(typeof e=="function")return true;if(e.toString().indexOf("eval")!==-1)return true;return false}function fixCSS3(e){if(e=="transform"||e=="transition"||e=="filter"){if(browserObj.webkit)return"-webkit-"+e;if(browserObj.mozilla)return"-moz-"+e;if(browserObj.msie&&parseInt(browserObj.version)>=9)return"-ms-"+e;if(browserObj.opera)return"-o-"+e}return e}function getAtPosValue(e,t,n,r,i){t=t.toString();n=n.toString();var s=function(t,n,o){if(t==n)return t;if(t.indexOf(" ")!=-1){var u=[];t=t.split(" ");n=n.split(" ");for(var a in t)u.push(s(t[a],n[a],o));return u.join(" ")}if(t.indexOf("(")!=-1){var f=t.substr(0,t.indexOf("("));t=t.substr(t.indexOf("(")+1,t.indexOf(")")-t.indexOf("(")-1);n=n.substr(n.indexOf("(")+1,n.indexOf(")")-n.indexOf("(")-1);return f+"("+s(t,n,f=="rgb")+")"}if(t.indexOf(",")!=-1){var u=[];t=t.split(",");n=n.split(",");for(var a in t)u.push(s(t[a],n[a],o));return u.join(",")}var f="";if(t.indexOf("px")!=-1)f="px";else if(t.indexOf("%")!=-1)f="%";else if(t.indexOf("deg")!=-1)f="deg";if(f!=""){t=t.replace(f,"");n=n.replace(f,"")}t=parseFloat(t);n=parseFloat(n);var u=parseFloat(t+(n-t)*((e-r)/(i-r)));if(o)return Math.round(Math.min(255,Math.max(0,u)));if(f!="")return u+f;return u};return s(t,n,false)}function isAlive(e,t){this.step=0;this.lastStep=0;this.animating=false;this.forceAnimation=false;this.scrollTimer;this.animPositions=[];this.animateDuration;this.touchPosition;this.jumpPosition;this.animationType="none";this.mySelector=e;this.allowScroll=true;this.allowTouch=true;this.scrollbarActive=null;this.waitScrollEnd=false;this.waitScrollTimer;this.cssDinamicElements=[];this.params={};this.onComplete=null;this.uniqId=Math.round(Math.random()*1e3)+1;this.CSS3TransitionArray={};this.CSS3DefaultTransitionArray={};this.functionsArray={};this.haveStepPoints;this.rebuildOnStop=false;this.msTouchAction;this.lastCSS={};this.dragHorizontal=null;this.setArray={};this.onOffClassArray={};this.settings=jQuery.extend({},{elements:{},elementsType:"linear",duration:1e3,durationTweaks:{},enableScroll:true,scrollType:"scroll",jumpPoints:[],max:null,min:0,maxScroll:1e6,maxDrag:1e6,debug:false,easing:"linear",start:0,loop:false,preventScroll:true,stepPoints:[],stepPointsSelector:null,stepPointsActiveClass:null,enableTouch:false,touchType:"drag",touchActions:{up:1,down:-1,right:0,left:0},dragXFrom:10,dragYFrom:10,wipeXFrom:20,wipeYFrom:20,wipePoints:[],preventTouch:true,animateClass:"isalive-"+this.uniqId,rebuildOnResize:true,playPoints:[],CSS3Easing:"linear",stepsOnScroll:1,stepsOnDrag:1,stepsOnScrollbar:1,minStepDuration:0,initCSS:false,useCSS3:false,scrollbarType:"scroll",scrollbarPoints:[],scrollbarActiveClass:null,enableScrollbarTouch:false,scrollDelay:250,enableGPU:"none",useIdAttribute:false,onStep:null,onLoadingComplete:null,onRebuild:null},t);this.initAnimations();if(this.settings.onLoadingComplete!=null)this.settings.onLoadingComplete(e)}var isAliveObjects=[];var isReady=false;var browserObj=null;var indexOf=null;var resizeTimer;var windowWidth;var windowHeight;isAlive.prototype.log=function(e){if(this.settings.debug)jQuery("#isalive-"+this.uniqId+"-debuger").append("<br/>"+e)};isAlive.prototype.l=function(e){return Math.floor(e/this.settings.max)*this.settings.max};isAlive.prototype.getPos=function(e){if(e%this.settings.max<0)return this.settings.max+e%this.settings.max;else return e%this.settings.max};isAlive.prototype.animateCSS=function(e,t,n,r,i,s){var o=this;if(e==parseInt(e)||typeof o.lastCSS[t+"|"+n]=="undefined")o.lastCSS[t+"|"+n]=o.animPositions[Math.round(e)][t][n].toString();var u=o.lastCSS[t+"|"+n];var a=r.toString();var f={};f[n.replace(/-/g,"")+"Timer"]="+=100";jQuery(t).animate(f,{duration:i,easing:s,queue:false,step:function(e,r){var i=e-r.start;var s=getAtPosValue(i,u,a,0,100);o.lastCSS[t+"|"+n]=s;o.setCSS(t,n,s)}})};isAlive.prototype.convertParams=function(e,t){var n=this;if(typeof e=="function")e=e(n.mySelector,n.params).toString();else{e=e.toString();e=e.replace(/elementTop/g,n.params.elementTop.toString());e=e.replace(/elementLeft/g,n.params.elementLeft.toString());e=e.replace(/elementHeight/g,n.params.elementHeight.toString());e=e.replace(/elementWidth/g,n.params.elementWidth.toString());e=e.replace(/documentHeight/g,n.params.documentHeight.toString());e=e.replace(/documentWidth/g,n.params.documentWidth.toString());e=e.replace(/windowHeight/g,n.params.windowHeight.toString());e=e.replace(/windowWidth/g,n.params.windowWidth.toString());var r=function(e){if(e.indexOf(" ")!=-1){e=e.split(" ");for(var t in e)e[t]=r(e[t]);return e.join(" ")}if(e.indexOf("(")!=-1&&e.substr(0,e.indexOf("("))!="eval")return e.substr(0,e.indexOf("("))+"("+r(getBetweenBrackets(e))+")";if(e.indexOf(",")!=-1){e=e.split(",");for(var t in e)e[t]=r(e[t]);return e.join(",")}if(e.indexOf("(")!=-1&&e.substr(0,e.indexOf("("))=="eval")return getBetweenBrackets(e,true);if(e.indexOf("#")!=-1){var n=hexToRgb(e);if(n!=null)e="rgb("+n.r.toString()+","+n.g.toString()+","+n.b.toString()+")"}else e=e.replace("top","0%").replace("center","50%").replace("bottom","100%").replace("left","0%").replace("right","100%");return e};e=r(e)}if(typeof t!="undefined")e=t.replace("(X)","("+e+")").replace("Xpx",e+"px").replace("X%",e+"%").replace("Xdeg",e+"deg");if(isNumber(e))return parseFloat(e);return e};isAlive.prototype.getTransitionArray=function(e,t){var n=this;if(typeof t!="undefined"){n.CSS3DefaultTransitionArray[e]={};if(t.indexOf("cubic-bezier")==-1)var r=t.split(",");else{var r=t.split("(");for(var i in r){if(r[i].indexOf(")")!=-1){r[i]=r[i].split(")");r[i][0]=r[i][0].replace(/,/g,"*char*");r[i]=r[i].join(")")}}r=r.join("(").split(",")}for(i in r){var s=r[i].split(" ");var o=fixCSS3(s[0]);n.CSS3DefaultTransitionArray[e][o]=r[i].replace(s[0],o).replace(/\*char\*/g,",")}}var u={};if(typeof n.CSS3DefaultTransitionArray[e]!="undefined")u=jQuery.extend(u,n.CSS3DefaultTransitionArray[e]);if(typeof n.CSS3TransitionArray[e]!="undefined")u=jQuery.extend(u,n.CSS3TransitionArray[e]);var a="";for(var i in u){if(a=="")a=u[i];else a=a+","+u[i]}if(a=="")a="all 0s";return a};isAlive.prototype.setCSS=function(e,t,n){var r=this;var i,s;if(typeof t=="string"){if(typeof r.functionsArray[t]!="undefined"){var o=r.functionsArray[t];o(e,n);return}if(t=="scrollTop"){jQuery(e).scrollTop(n);return}if(t=="scrollLeft"){jQuery(e).scrollLeft(n);return}else{if(typeof r.CSS3TransitionArray[e]!="undefined"&&typeof r.CSS3TransitionArray[e][t]!="undefined"){delete r.CSS3TransitionArray[e][t];jQuery(e).css(fixCSS3("transition"),r.getTransitionArray(e))}else if(t==fixCSS3("transition")){n=r.getTransitionArray(e,n)}jQuery(e).css(t,n);return}}else{jQuery(e).css(fixCSS3("transition"),r.getTransitionArray(e));jQuery(e).css(t)}};isAlive.prototype.rebuildLayout=function(){var e=this;var t,n,r,i,s,o,u,a,f,l,c,h,p;var d=[];if(!e.animating){e.params.windowWidth=jQuery(window).width();e.params.windowHeight=jQuery(window).height();e.params.documentWidth=jQuery(document).width();e.params.documentHeight=jQuery(document).height();e.params.elementHeight=jQuery(e.mySelector).height();e.params.elementWidth=jQuery(e.mySelector).width();e.params.elementTop=jQuery(e.mySelector).offset().top;e.params.elementLeft=jQuery(e.mySelector).offset().left;for(t in e.cssDinamicElements){if(e.cssDinamicElements[t]["method"]=="static"){n=e.cssDinamicElements[t]["selector"];r=e.cssDinamicElements[t]["property"];a=e.convertParams(e.cssDinamicElements[t]["value"],e.cssDinamicElements[t]["format"]);e.setCSS(n,r,a)}else if(e.cssDinamicElements[t]["method"]=="animate"){n=e.cssDinamicElements[t]["selector"];r=e.cssDinamicElements[t]["property"];i=e.convertParams(e.cssDinamicElements[t]["value-start"],e.cssDinamicElements[t]["format"]);s=e.convertParams(e.cssDinamicElements[t]["value-end"],e.cssDinamicElements[t]["format"]);if(e.cssDinamicElements[t]["scrollbar"]==true){e.settings.elements[e.cssDinamicElements[t]["key"]]["value-start"]=i;e.settings.elements[e.cssDinamicElements[t]["key"]]["value-end"]=s}o=e.cssDinamicElements[t]["step-start"];u=e.cssDinamicElements[t]["step-end"];for(f=o;f<=u;f++){a=getAtPosValue(f,i,s,o,u);e.animPositions[f][n][r]=a}if(typeof d[n]=="undefined")d[n]=[];if(indexOf(d[n],r)==-1)d[n].push(r)}else if(e.cssDinamicElements[t]["method"]=="set"){n=e.cssDinamicElements[t]["selector"];r=e.cssDinamicElements[t]["property"];h=e.cssDinamicElements[t]["step-from"];c=e.cssDinamicElements[t]["value-above"];if(isDinamic(c)){c=e.convertParams(c,e.cssDinamicElements[t]["format"]);e.setArray["forward"][h][n][r]=c}l=e.cssDinamicElements[t]["value-under"];if(isDinamic(l)){l=e.convertParams(l,e.cssDinamicElements[t]["format"]);e.setArray["backward"][h][n][r]=l}if(typeof d[n]=="undefined")d[n]=[];if(indexOf(d[n],r)==-1)d[n].push(r)}else if(e.cssDinamicElements[t]["method"]=="animate-set"){n=e.cssDinamicElements[t]["selector"];r=e.cssDinamicElements[t]["property"];i=e.convertParams(e.cssDinamicElements[t]["value-start"],e.cssDinamicElements[t]["format"]);s=e.convertParams(e.cssDinamicElements[t]["value-end"],e.cssDinamicElements[t]["format"]);o=e.cssDinamicElements[t]["step-start"];u=e.cssDinamicElements[t]["step-end"];moveOn=e.cssDinamicElements[t]["move-on"];for(f=o;f<=u;f++){if((f-o)%moveOn==0){a=getAtPosValue(f,i,s,o,u);if(f>o){e.setArray["forward"][f][n][r]=a;e.setArray["backward"][f][n][r]=p}p=a}}if(typeof d[n]=="undefined")d[n]=[];if(indexOf(d[n],r)==-1)d[n].push(r)}}for(n in d){for(t in d[n]){r=d[n][t];a=null;for(f=e.getPos(Math.round(e.lastStep));f>=0;f--){if(typeof e.setArray["forward"][f]!="undefined"&&typeof e.setArray["forward"][f][n]!="undefined"&&typeof e.setArray["forward"][f][n][r]!="undefined")a=e.setArray["forward"][f][n][r];else if(typeof e.animPositions[f]!="undefined"&&typeof e.animPositions[f][n]!="undefined"&&typeof e.animPositions[f][n][d[n][t]]!="undefined")a=e.animPositions[f][n][d[n][t]];if(a!=null){e.setCSS(n,d[n][t],a);delete d[n][t];break}}}}for(n in d){for(t in d[n]){r=d[n][t];a=null;for(f=e.getPos(Math.round(e.lastStep))+1;f<=e.getPos(e.settings.max-1);f++){if(typeof e.setArray["backward"][f]!="undefined"&&typeof e.setArray["backward"][f][n]!="undefined"&&typeof e.setArray["backward"][f][n][r]!="undefined")a=e.setArray["backward"][f][n][r];else if(typeof e.animPositions[f]!="undefined"&&typeof e.animPositions[f][n]!="undefined"&&typeof e.animPositions[f][n][d[n][t]]!="undefined")a=e.animPositions[f][n][d[n][t]];if(a!=null){e.setCSS(n,d[n][t],a);break}}}}if(e.settings.onRebuild!=null)e.settings.onRebuild(e.params,e.getPos(e.step),Math.floor(e.step/(e.settings.max+1)))}else e.rebuildOnStop=true};isAlive.prototype.getStartCssValue=function(e){var t,n,r,i,s;var o=this;if(o.settings.elements[e]["method"]=="animate"||o.settings.elements[e]["method"]=="animate-set")i=parseInt(o.settings.elements[e]["step-start"]);else if(o.settings.elements[e]["method"]=="set")i=parseInt(o.settings.elements[e]["step-from"]);s=null;for(n=i;n>=0;n--){for(t in o.settings.elements){if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&o.settings.elements[t]["method"]=="set"&&o.settings.elements[t]["step-from"]==n)return o.settings.elements[t]["value-above"];else if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&(o.settings.elements[t]["method"]=="animate"||o.settings.elements[t]["method"]=="animate-set")&&o.settings.elements[t]["step-end"]==n)return o.settings.elements[t]["value-end"];else if(t!=e&&o.settings.elements[t]["selector"]==o.settings.elements[e]["selector"]&&o.settings.elements[t]["property"]==o.settings.elements[e]["property"]&&o.settings.elements[t]["method"]=="set@start"&&n==o.settings.start)return o.settings.elements[t]["value"]}}if(typeof o.functionsArray[o.settings.elements[e]["property"]]!="undefined")return 0;if(o.settings.elements[e]["property"]=="scrollTop")return jQuery(o.settings.elements[e]["selector"]).scrollTop();else if(o.settings.elements[e]["property"]=="scrollLeft")return jQuery(o.settings.elements[e]["selector"]).scrollLeft();else{r=jQuery(o.settings.elements[e]["selector"]).css(o.settings.elements[e]["property"]);if(r.toString().indexOf(" ")==-1){r=r.replace(/px/g,"");if(isNumber(r))r=parseFloat(r)}return r}};isAlive.prototype.bindScrollTouchEvents=function(){var e=this;if(e.settings.enableTouch){var t;var n;var r=false;var i=false;jQuery(e.mySelector).each(function(){function s(s){if(!e.allowTouch)return;if(!i){if(s.touches.length!=1)return;t=s.touches[0].clientX;n=s.touches[0].clientY;r=true;this.addEventListener("touchmove",u,false);this.addEventListener("touchend",o,false)}else{if(s.pointerType==s.MSPOINTER_TYPE_MOUSE)return;t=s.clientX;n=s.clientY;r=true;document.addEventListener("MSPointerMove",u,false);document.addEventListener("MSPointerUp",o,false)}}function o(t){if(!i){this.removeEventListener("touchmove",u);this.removeEventListener("touchend",o)}else{document.removeEventListener("MSPointerMove",u);document.removeEventListener("MSPointerUp",o)}r=false;e.dragHorizontal=null}function u(s){if(!i&&e.settings.preventTouch){s.preventDefault()}if(r){if(!i){var u=s.touches[0].clientX;var a=s.touches[0].clientY}else{var u=s.clientX;var a=s.clientY}var f=t-u;var l=n-a;if(e.settings.touchType=="wipe"){if(Math.abs(f)>=e.settings.wipeXFrom){if(e.settings.touchActions.left!=0&&f>0){o();e.doWipeTouch(e.settings.touchActions.left);return}else if(e.settings.touchActions.right!=0&&f<0){o();e.doWipeTouch(e.settings.touchActions.right);return}}if(Math.abs(l)>=e.settings.wipeYFrom){if(e.settings.touchActions.up!=0&&l>0){o();e.doWipeTouch(e.settings.touchActions.up);return}else if(e.settings.touchActions.down!=0&&l<0){o();e.doWipeTouch(e.settings.touchActions.down);return}}}else{if(Math.abs(f)>=e.settings.dragXFrom){if(e.settings.touchActions.left!=0&&f>0&&(e.dragHorizontal==null||e.dragHorizontal==true)){e.dragHorizontal=true;e.doDragTouch(e.settings.touchActions.left);t=u}else if(e.settings.touchActions.right!=0&&f<0&&(e.dragHorizontal==null||e.dragHorizontal==true)){e.dragHorizontal=true;e.doDragTouch(e.settings.touchActions.right);t=u}}if(Math.abs(l)>=e.settings.dragYFrom){if(e.settings.touchActions.up!=0&&l>0&&(e.dragHorizontal==null||e.dragHorizontal==false)){e.dragHorizontal=false;e.doDragTouch(e.settings.touchActions.up);n=a}else if(e.settings.touchActions.down!=0&&l<0&&(e.dragHorizontal==null||e.dragHorizontal==false)){e.dragHorizontal=false;e.doDragTouch(e.settings.touchActions.down);n=a}}}}}if("ontouchstart"in document.documentElement){this.addEventListener("touchstart",s,false)}else if(window.navigator.msPointerEnabled){i=true;this.addEventListener("MSPointerDown",s,false)}})}if(e.settings.enableScroll){if(e.settings.scrollType=="scroll"){jQuery(e.mySelector).bind("DOMMouseScroll",function(t){t.originalEvent.detail>0?e.doScroll(true):e.doScroll(false);if(e.settings.preventScroll)return false});jQuery(e.mySelector).bind("mousewheel",function(t){t.originalEvent.wheelDelta<0?e.doScroll(true):e.doScroll(false);if(e.settings.preventScroll)return false})}else{jQuery(e.mySelector).bind("DOMMouseScroll",function(t){t.originalEvent.detail>0?e.doJump(true):e.doJump(false);if(e.settings.preventScroll)return false});jQuery(e.mySelector).bind("mousewheel",function(t){t.originalEvent.wheelDelta<0?e.doJump(true):e.doJump(false);if(e.settings.preventScroll)return false})}}};isAlive.prototype.createElementsArray=function(){var e=this;var t=jQuery.extend({},e.settings.elements);var n;var r;var i;var s;var o,u,a;var f,l;var c,h,p;var d={};e.setArray["forward"]={};e.setArray["backward"]={};e.onOffClassArray["forward"]={};e.onOffClassArray["backward"]={};for(n=0;n<=e.settings.max;n++){for(s in t){if(t[s]["method"]=="animate"&&n>t[s]["step-end"]||t[s]["method"]=="animate-set"&&n>t[s]["step-end"]||t[s]["method"]=="set"&&n>t[s]["step-from"]||t[s]["method"]=="add-class"&&n>t[s]["step-from"]||t[s]["method"]=="remove-class"&&n>t[s]["step-from"]){delete t[s];continue}if(t[s]["method"]=="animate"){if(n>=t[s]["step-start"]&&n<=t[s]["step-end"]){o=t[s]["selector"];u=t[s]["property"];f=t[s]["value-start"];l=t[s]["value-end"];c=t[s]["step-start"];h=t[s]["step-end"];p=getAtPosValue(n,f,l,c,h);if(typeof e.animPositions[n]=="undefined")e.animPositions[n]=[];if(typeof e.animPositions[n][o]=="undefined")e.animPositions[n][o]=[];e.animPositions[n][o][u]=p}}else if(t[s]["method"]=="animate-set"){if(n>=t[s]["step-start"]&&n<=t[s]["step-end"]&&(n-t[s]["step-start"])%t[s]["move-on"]==0){o=t[s]["selector"];u=t[s]["property"];f=t[s]["value-start"];l=t[s]["value-end"];c=t[s]["step-start"];h=t[s]["step-end"];p=getAtPosValue(n,f,l,c,h);if(n>c){if(typeof e.setArray["forward"][n]=="undefined")e.setArray["forward"][n]={};if(typeof e.setArray["forward"][n][o]=="undefined")e.setArray["forward"][n][o]={};e.setArray["forward"][n][o][u]=p;if(typeof e.setArray["backward"][n]=="undefined")e.setArray["backward"][n]={};if(typeof e.setArray["backward"][n][o]=="undefined")e.setArray["backward"][n][o]={};e.setArray["backward"][n][o][u]=d[o+"-"+u]}d[o+"-"+u]=p}}else if(t[s]["method"]=="set"){if(n==t[s]["step-from"]){o=t[s]["selector"];u=t[s]["property"];if(typeof e.setArray["forward"][n]=="undefined")e.setArray["forward"][n]={};if(typeof e.setArray["forward"][n][o]=="undefined")e.setArray["forward"][n][o]={};e.setArray["forward"][n][o][u]=t[s]["value-above"];if(typeof e.setArray["backward"][n]=="undefined")e.setArray["backward"][n]={};if(typeof e.setArray["backward"][n][o]=="undefined")e.setArray["backward"][n][o]={};e.setArray["backward"][n][o][u]=t[s]["value-under"]}}else if(t[s]["method"]=="add-class"){if(n==t[s]["step-from"]){o=t[s]["selector"];a=t[s]["class-name"];if(typeof e.onOffClassArray["forward"][n]=="undefined")e.onOffClassArray["forward"][n]={};if(typeof e.onOffClassArray["forward"][n][o]=="undefined")e.onOffClassArray["forward"][n][o]={};e.onOffClassArray["forward"][n][o][a]=true;if(typeof e.onOffClassArray["backward"][n]=="undefined")e.onOffClassArray["backward"][n]={};if(typeof e.onOffClassArray["backward"][n][o]=="undefined")e.onOffClassArray["backward"][n][o]={};e.onOffClassArray["backward"][n][o][a]=false}}else if(t[s]["method"]=="remove-class"){if(n==t[s]["step-from"]){o=t[s]["selector"];a=t[s]["class-name"];if(typeof e.onOffClassArray["forward"][n]=="undefined")e.onOffClassArray["forward"][n]={};if(typeof e.onOffClassArray["forward"][n][o]=="undefined")e.onOffClassArray["forward"][n][o]={};e.onOffClassArray["forward"][n][o][a]=false;if(typeof e.onOffClassArray["backward"][n]=="undefined")e.onOffClassArray["backward"][n]={};if(typeof e.onOffClassArray["backward"][n][o]=="undefined")e.onOffClassArray["backward"][n][o]={};e.onOffClassArray["backward"][n][o][a]=true}}}}};isAlive.prototype.initCSS=function(){var e=this;var t={};var n={};var r,i,s,o;var u=-1;for(r=e.settings.start;r>=0;r--){if(e.haveStepPoints&&u==-1)u=indexOf(e.settings.stepPoints,r);if(typeof e.setArray["forward"][r]!="undefined"){for(i in e.setArray["forward"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["forward"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["forward"][r][i][s]}}}if(typeof e.onOffClassArray["forward"][r]!="undefined"){for(i in e.onOffClassArray["forward"][r]){if(typeof n[i]=="undefined")n[i]={};for(o in e.onOffClassArray["forward"][r][i]){if(typeof n[i][o]=="undefined")n[i][o]=e.onOffClassArray["forward"][r][i][o]}}}if(typeof e.animPositions[r]!="undefined"){for(i in e.animPositions[r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.animPositions[r][i])if(typeof t[i][s]=="undefined")t[i][s]=e.animPositions[r][i][s]}}}for(r=e.settings.start+1;r<=e.settings.max;r++){if(typeof e.setArray["backward"][r]!="undefined"){for(i in e.setArray["backward"][r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.setArray["backward"][r][i]){if(typeof t[i][s]=="undefined")t[i][s]=e.setArray["backward"][r][i][s]}}}if(typeof e.onOffClassArray["backward"][r]!="undefined"){for(i in e.onOffClassArray["backward"][r]){if(typeof n[i]=="undefined")n[i]={};for(o in e.onOffClassArray["backward"][r][i]){if(typeof n[i][o]=="undefined")n[i][o]=e.onOffClassArray["backward"][r][i][o]}}}if(typeof e.animPositions[r]!="undefined"){for(i in e.animPositions[r]){if(typeof t[i]=="undefined")t[i]={};for(s in e.animPositions[r][i])if(typeof t[i][s]=="undefined")t[i][s]=e.animPositions[r][i][s]}}}for(i in t)for(s in t[i])e.setCSS(i,s,t[i][s]);for(i in n){for(o in n[i]){if(n[i][o]==true)jQuery(i).addClass(o);else jQuery(i).removeClass(o)}}if(u!=-1){jQuery(e.settings.stepPointsSelector).removeClass(e.settings.stepPointsActiveClass);jQuery(e.settings.stepPointsSelector).eq(u).addClass(e.settings.stepPointsActiveClass)}for(r=0;r<=e.settings.start;r++)if(e.settings.onStep!=null)e.settings.onStep(r,Math.floor(r/(e.settings.max+1)),"init")};isAlive.prototype.initAnimations=function(){var e,t,n;var r=this;if(!isReady){isReady=true;browserObj=getBrowser();if(!browserObj.msie||browserObj.msie&&parseInt(browserObj.version)>=9){indexOf=function(e,t){return e.indexOf(t)}}else{indexOf=function(e,t){for(var n in e)if(e[n]==t)return parseInt(n);return-1}}windowWidth=jQuery(window).width();windowHeight=jQuery(window).height();jQuery(window).bind("resize",onResizeAction)}if(r.settings.debug)jQuery(r.mySelector).append('<div style="position:absolute;padding:5px;border:1px solid gray; color: red; top:10px;left:10px;display:inline-block;background:white;z-index:9999;" id="isalive-'+r.uniqId+'-debuger" class="isalive-debuger"><span>'+r.settings.start+"</span></div>");if(r.settings.elementsType=="tree"){var i={};var s=0;for(t in r.settings.elements){for(n in r.settings.elements[t]){i[s]={};i[s]=jQuery.extend({selector:t},r.settings.elements[t][n]);s++}delete r.settings.elements[t]}r.settings.elements=jQuery.extend({},i)}r.params.windowWidth=jQuery(window).width();r.params.windowHeight=jQuery(window).height();r.params.documentWidth=jQuery(document).width();r.params.documentHeight=jQuery(document).height();r.params.elementHeight=jQuery(r.mySelector).height();r.params.elementWidth=jQuery(r.mySelector).width();r.params.elementTop=jQuery(r.mySelector).offset().top;r.params.elementLeft=jQuery(r.mySelector).offset().left;if(indexOf(["linear","ease","ease-in","ease-out","ease-in-out"],r.settings.CSS3Easing)==-1&&r.settings.CSS3Easing.indexOf("cubic-bezier")==-1)r.settings.CSS3Easing="linear";if(typeof jQuery.easing[r.settings.easing]=="undefined")r.settings.easing="linear";if(r.settings.maxScroll<r.settings.stepsOnScroll)r.settings.maxScroll=r.settings.stepsOnScroll;if(r.settings.maxDrag<r.settings.stepsOnDrag)r.settings.maxDrag=r.settings.stepsOnDrag;if(r.settings.enableTouch&&r.settings.touchType=="wipe"&&r.settings.wipePoints.length<=1)r.settings.enableTouch=false;if(r.settings.enableTouch&&browserObj.msie&&parseInt(browserObj.version)>=10&&r.settings.preventTouch){r.msTouchAction=jQuery(r.mySelector).css("-ms-touch-action");jQuery(r.mySelector).css("-ms-touch-action","none")}if(r.settings.enableTouch&&r.settings.touchType=="wipe")r.settings.wipePoints.sort(function(e,t){return e-t});if(r.settings.enableScroll&&r.settings.scrollType=="jump"&&r.settings.jumpPoints.length<=1)r.settings.enableScroll=false;if(r.settings.enableScroll&&r.settings.scrollType=="jump")r.settings.jumpPoints.sort(function(e,t){return e-t});r.settings.playPoints.sort(function(e,t){return e-t});r.animateDuration=r.settings.duration;if(r.settings.scrollbarType!="scroll"&&r.settings.scrollbarPoints.length==0)r.settings.scrollbarType="scroll";if(typeof r.settings.durationTweaks["jump"]=="undefined")r.settings.durationTweaks["jump"]={};if(typeof r.settings.durationTweaks["wipe"]=="undefined")r.settings.durationTweaks["wipe"]={};if(typeof r.settings.durationTweaks["scrollbar"]=="undefined")r.settings.durationTweaks["scrollbar"]={};r.settings.durationTweaks["jump"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["jump"]);r.settings.durationTweaks["wipe"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["wipe"]);r.settings.durationTweaks["scrollbar"]=jQuery.extend({duration:r.settings.duration,durationType:"default",minStepDuration:r.settings.minStepDuration},r.settings.durationTweaks["scrollbar"]);if(r.settings.min>0)r.settings.loop=false;r.settings.touchActions=jQuery.extend({up:1,down:-1,right:0,left:0},r.settings.touchActions);r.haveStepPoints=r.settings.stepPointsSelector!=null&&r.settings.stepPointsActiveClass!=null&&r.settings.stepPoints.length>0;r.settings.stepPoints.sort(function(e,t){return e-t});for(t in r.settings.elements){if(typeof r.settings.elements[t]["+browsers"]!="undefined"){if(!validateBrowsers(r.settings.elements[t]["+browsers"]))delete r.settings.elements[t]}else if(typeof r.settings.elements[t]["-browsers"]!="undefined"){if(validateBrowsers(r.settings.elements[t]["-browsers"]))delete r.settings.elements[t]}}var o=[];var u=0;var a=0;for(t in r.settings.elements){if(typeof r.settings.elements[t]["selector"]=="undefined"||typeof r.settings.elements[t]["method"]=="undefined"||jQuery(r.settings.elements[t]["selector"]).length==0)delete r.settings.elements[t];else{if(r.settings.useIdAttribute&&(typeof r.settings.elements[t]["use-id-attribute"]=="undefined"||r.settings.elements[t]["use-id-attribute"]==true)||!r.settings.useIdAttribute&&r.settings.elements[t]["use-id-attribute"]==true){if(typeof r.settings.elements[t]["use-id-attribute"]!="undefined")delete r.settings.elements[t]["use-id-attribute"];if(jQuery(r.settings.elements[t]["selector"]).length==1){var f=jQuery(r.settings.elements[t]["selector"]).attr("id");if(typeof f=="undefined"){f="isalive-"+r.uniqId+"-element-"+u;u++;jQuery(r.settings.elements[t]["selector"]).attr("id",f);r.settings.elements[t]["selector"]="#"+f}else r.settings.elements[t]["selector"]="#"+f}else{jQuery(r.settings.elements[t]["selector"]).each(function(e,n){if(typeof jQuery(n).attr("id")=="undefined"){var i="isalive-"+r.uniqId+"-element-"+u;jQuery(n).attr("id",i);u++}else var i=jQuery(n).attr("id");var s=jQuery.extend(true,{},r.settings.elements[t]);s["selector"]="#"+i;o.push(s)});delete r.settings.elements[t]}}}}for(t in o){r.settings.elements["ISALIVE_OBJECT_"+a]=o[t];a++}var l=[];for(t in r.settings.elements){if(typeof r.settings.elements[t]["property"]!="undefined"){if(typeof r.settings.elements[t]["property"]=="function"){if(typeof r.functionsArray["f:"+toString(r.settings.elements[t]["property"])]=="undefined")r.functionsArray["f:"+toString(r.settings.elements[t]["property"])]=r.settings.elements[t]["property"];r.settings.elements[t]["property"]="f:"+toString(r.settings.elements[t]["property"])}else{r.settings.elements[t]["property"]=jQuery.trim(r.settings.elements[t]["property"])}if(isCSS3(r.settings.elements[t]["property"])&&browserObj.msie&&parseInt(browserObj.version)<9){delete r.settings.elements[t];continue}if(r.settings.elements[t]["method"]=="set@start"&&r.settings.initCSS){delete r.settings.elements[t];continue}if(r.settings.elements[t]["method"]=="animate-set")if(typeof r.settings.elements[t]["move-on"]=="undefined")r.settings.elements[t]["move-on"]=1;if(typeof r.settings.elements[t]["easing"]!="undefined"&&typeof jQuery.easing[r.settings.elements[t]["easing"]]=="undefined")delete r.settings.elements[t]["easing"];if(typeof r.settings.elements[t]["CSS3Easing"]!="undefined"&&indexOf(["linear","ease","ease-in","ease-out","ease-in-out"],r.settings.elements[t]["CSS3Easing"])==-1&&r.settings.elements[t]["CSS3Easing"].indexOf("cubic-bezier")==-1)delete r.settings.elements[t]["CSS3Easing"];if(r.settings.elements[t]["method"]=="animate"){if(r.settings.elements[t]["property"]=="scrollTop"||r.settings.elements[t]["property"]=="scrollLeft"||typeof r.functionsArray[r.settings.elements[t]["property"]]!="undefined"||browserObj.msie&&parseInt(browserObj.version)<10){r.settings.elements[t]["useCSS3"]=false;if(typeof r.settings.elements[t]["easing"]=="undefined")r.settings.elements[t]["easing"]=r.settings.easing;if(typeof r.settings.elements[t]["CSS3Easing"]!="undefined")delete r.settings.elements[t]["CSS3Easing"]}else{if(r.settings.useCSS3&&typeof r.settings.elements[t]["useCSS3"]=="undefined"||r.settings.elements[t]["useCSS3"]){r.settings.elements[t]["useCSS3"]=true;if(typeof r.settings.elements[t]["CSS3Easing"]=="undefined")r.settings.elements[t]["easing"]=r.settings.CSS3Easing;else{r.settings.elements[t]["easing"]=r.settings.elements[t]["CSS3Easing"];delete r.settings.elements[t]["CSS3Easing"]}}else{r.settings.elements[t]["useCSS3"]=false;if(typeof r.settings.elements[t]["easing"]=="undefined")r.settings.elements[t]["easing"]=r.settings.easing;if(typeof r.settings.elements[t]["CSS3Easing"]!="undefined")delete r.settings.elements[t]["CSS3Easing"]}}if(canJQueryAnimate(r.settings.elements[t]["property"]))r.settings.elements[t]["useJQuery"]=true;else r.settings.elements[t]["useJQuery"]=false}if(r.settings.elements[t]["method"]=="animate"&&indexOf(l,r.settings.elements[t]["selector"])==-1){jQuery(r.settings.elements[t]["selector"]).addClass(r.settings.animateClass);l.push(r.settings.elements[t]["selector"])}r.settings.elements[t]["property"]=fixCSS3(r.settings.elements[t]["property"])}}jQuery(r.mySelector).addClass(r.settings.animateClass);if(r.settings.enableGPU=="none"||typeof browserObj.webkit=="undefined")var c=false;else var c=validateBrowsers(r.settings.enableGPU);var l=[];var h=[];for(t in r.settings.elements){if(!browserObj.msie||browserObj.msie&&parseInt(browserObj.version)>9)if(typeof r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=="undefined"){var p=[];var d=jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-property"));var v=jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-duration"));if(d!="all"||v!="0s"){p.push(d);p.push(v);p.push(jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-timing-function")));p.push(jQuery(r.settings.elements[t]["selector"]).css(fixCSS3("transition-delay")));r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=p}else r.CSS3DefaultTransitionArray[r.settings.elements[t]["selector"]]=null}if(browserObj.msie&&parseInt(browserObj.version)<9&&r.settings.elements[t]["property"]=="opacity"&&indexOf(l,r.settings.elements[t]["selector"])==-1){var m=parseFloat(jQuery(r.settings.elements[t]["selector"]).css("opacity"));jQuery(r.settings.elements[t]["selector"]).css("opacity",m);l.push(r.settings.elements[t]["selector"])}if(c&&(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set")&&indexOf(h,r.settings.elements[t]["selector"])==-1){jQuery(r.settings.elements[t]["selector"]).css("-webkit-backface-visibility","hidden");jQuery(r.settings.elements[t]["selector"]).css("-webkit-perspective","1000");h.push(r.settings.elements[t]["selector"])}}for(t in r.CSS3DefaultTransitionArray){if(r.CSS3DefaultTransitionArray[t]==null){delete r.CSS3DefaultTransitionArray[t];continue}var l=[];for(n in r.CSS3DefaultTransitionArray[t]){if(r.CSS3DefaultTransitionArray[t][n].indexOf("cubic-bezier")==-1)l.push(r.CSS3DefaultTransitionArray[t][n].split(","));else{var g=r.CSS3DefaultTransitionArray[t][n].split("(");for(var y in g){if(g[y].indexOf(")")!=-1){g[y]=g[y].split(")");g[y][0]=g[y][0].replace(/,/g,"*char*");g[y]=g[y].join(")")}}l.push(g.join("(").split(","))}delete r.CSS3DefaultTransitionArray[t][n]}for(n in l[0]){var b=[];b.push(jQuery.trim(l[0][n]));b.push(jQuery.trim(l[1][n]));b.push(jQuery.trim(l[2][n]));b.push(jQuery.trim(l[3][n]));r.CSS3DefaultTransitionArray[t][jQuery.trim(l[0][n])]=b.join(" ").replace(/\*char\*/g,",")}}if(r.settings.max==null){r.settings.max=0;for(t in r.settings.elements){if(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set"){if(typeof r.settings.elements[t]["step-end"]!="undefined")r.settings.max=Math.max(r.settings.max,r.settings.elements[t]["step-end"])}else if(r.settings.elements[t]["method"]=="set"||r.settings.elements[t]["method"]=="add-class"||r.settings.elements[t]["method"]=="remove-class"){if(typeof r.settings.elements[t]["step-from"]!="undefined")r.settings.max=Math.max(r.settings.max,r.settings.elements[t]["step-from"])}}}r.step=r.settings.start;r.lastStep=r.settings.start;for(t in r.settings.elements){if(r.settings.elements[t]["scrollbar"]){if(typeof r.settings.elements[t]["step-start"]=="undefined")r.settings.elements[t]["step-start"]=0;if(typeof r.settings.elements[t]["step-end"]=="undefined")r.settings.elements[t]["step-end"]=r.settings.max}if((r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set")&&typeof r.settings.elements[t]["value-start"]=="undefined")r.settings.elements[t]["value-start"]=r.getStartCssValue(t);else if(r.settings.elements[t]["method"]=="set"&&typeof r.settings.elements[t]["value-under"]=="undefined")r.settings.elements[t]["value-under"]=r.getStartCssValue(t)}for(t in r.settings.elements){if(r.settings.elements[t]["method"]=="animate"||r.settings.elements[t]["method"]=="animate-set"){if(isDinamic(r.settings.elements[t]["value-start"])||isDinamic(r.settings.elements[t]["value-end"])){if(r.settings.elements[t]["scrollbar"]==true)var i=jQuery.extend(true,{key:parseInt(t)},r.settings.elements[t]);else var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssDinamicElements.push(i)}r.settings.elements[t]["value-start"]=r.convertParams(r.settings.elements[t]["value-start"],r.settings.elements[t]["format"]);r.settings.elements[t]["value-end"]=r.convertParams(r.settings.elements[t]["value-end"],r.settings.elements[t]["format"])}else if(r.settings.elements[t]["method"]=="set"){if(isDinamic(r.settings.elements[t]["value-under"])||isDinamic(r.settings.elements[t]["value-above"])){var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssDinamicElements.push(i)}r.settings.elements[t]["value-under"]=r.convertParams(r.settings.elements[t]["value-under"],r.settings.elements[t]["format"]);r.settings.elements[t]["value-above"]=r.convertParams(r.settings.elements[t]["value-above"],r.settings.elements[t]["format"])}else if(r.settings.elements[t]["method"]=="static"){if(isDinamic(r.settings.elements[t]["value"])){var i=jQuery.extend(true,{},r.settings.elements[t]);r.cssDinamicElements.push(i)}w=r.convertParams(r.settings.elements[t]["value"],r.settings.elements[t]["format"]);r.setCSS(r.settings.elements[t]["selector"],r.settings.elements[t]["property"],w);delete r.settings.elements[t]}else if(r.settings.elements[t]["method"]=="set@start"){var w=r.convertParams(r.settings.elements[t]["value"],r.settings.elements[t]["format"]);r.setCSS(r.settings.elements[t]["selector"],r.settings.elements[t]["property"],w);delete r.settings.elements[t]}}r.createElementsArray();var E=function(e,t){var n=function(n,i,s){if(r.forceAnimation)return false;if(window.navigator.msPointerEnabled&&!r.settings.enableScrollbarTouch)if(n.pointerType!=n.MSPOINTER_TYPE_MOUSE)return false;var o,u,a,f,l,c,h,p;r.scrollbarActive=t;if(i=="mousedown"){jQuery("body").bind("selectstart.disableSelection",function(e){e.preventDefault()});o=jQuery("body").attr("unselectable");u=jQuery("body").css("user-select");jQuery("body").attr("unselectable","on").css("user-select","none")}if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[t]["selector"]).addClass(r.settings.scrollbarActiveClass);if(i=="mousedown"){if(r.settings.elements[t]["property"]=="top"){a=jQuery(e).parent().offset().top;f=n.pageY-jQuery(e).offset().top}else{a=jQuery(e).parent().offset().left;f=n.pageX-jQuery(e).offset().left}}else if(i=="touchstart"){if(r.settings.elements[t]["property"]=="top"){a=jQuery(e).parent().offset().top;f=n.touches[0].pageY-jQuery(e).offset().top}else{a=jQuery(e).parent().offset().left;f=n.touches[0].pageX-jQuery(e).offset().left}}h=r.getPos(Math.round(r.lastStep));var d=function(e,n){if(n=="mousemove"){if(r.settings.elements[t]["property"]=="top")var i=e.pageY-a-f;else var i=e.pageX-a-f}else if(n=="touchmove"){if(r.settings.elements[t]["property"]=="top")var i=e.touches[0].pageY-a-f;else var i=e.touches[0].pageX-a-f}if(i>=r.settings.elements[t]["value-start"]&&i<=r.settings.elements[t]["value-end"])jQuery(r.settings.elements[t]["selector"]).css(r.settings.elements[t]["property"],i);else if(i<r.settings.elements[t]["value-start"]){jQuery(r.settings.elements[t]["selector"]).css(r.settings.elements[t]["property"],r.settings.elements[t]["value-start"]);i=r.settings.elements[t]["value-start"]}else if(i>r.settings.elements[t]["value-end"]){jQuery(r.settings.elements[t]["selector"]).css(r.settings.elements[t]["property"],r.settings.elements[t]["value-end"]);i=r.settings.elements[t]["value-end"]}p=false;l=r.settings.elements[t]["step-start"]+Math.round(Math.abs(r.settings.elements[t]["step-end"]-r.settings.elements[t]["step-start"])*((i-r.settings.elements[t]["value-start"])/Math.abs(r.settings.elements[t]["value-end"]-r.settings.elements[t]["value-start"])));if(r.settings.scrollbarType=="scroll"){c=r.settings.elements[t]["step-start"]+Math.round((l-r.settings.elements[t]["step-start"])/r.settings.stepsOnScrollbar)*r.settings.stepsOnScrollbar;if(Math.abs(h-c)>=r.settings.stepsOnScrollbar)p=true;else if(l!=h&&(l==r.settings.elements[t]["step-start"]||l==r.settings.elements[t]["step-end"])){p=true;c=l}}else{if(h<l){for(var s=l;s>=h+1;s--){if(indexOf(r.settings.scrollbarPoints,s)!=-1){p=true;c=s;break}}}else if(h>l){for(var s=l;s<=h-1;s++){if(indexOf(r.settings.scrollbarPoints,s)!=-1){p=true;c=s;break}}}}if(p){h=c;if(r.getPos(r.lastStep)<c)r.goTo({to:c,orientation:"next",animationType:"scrollbar",duration:r.settings.durationTweaks["scrollbar"]["duration"],durationType:r.settings.durationTweaks["scrollbar"]["durationType"],minStepDuration:r.settings.durationTweaks["scrollbar"]["minStepDuration"]});else if(r.getPos(r.lastStep)>c)r.goTo({to:c,orientation:"prev",animationType:"scrollbar",duration:r.settings.durationTweaks["scrollbar"]["duration"],durationType:r.settings.durationTweaks["scrollbar"]["durationType"],minStepDuration:r.settings.durationTweaks["scrollbar"]["minStepDuration"]})}};if(i=="mousedown"){jQuery(document).bind("mousemove.myEventMouseMove",function(e){d(e,"mousemove")});jQuery(document).bind("mouseup.myEventMouseUp",function(){jQuery(document).unbind("mousemove.myEventMouseMove");jQuery(document).unbind("mouseup.myEventMouseUp");jQuery("body").unbind("selectstart.disableSelection");typeof o!="undefined"?jQuery("body").attr("unselectable",o):jQuery("body").removeAttr("unselectable");typeof u!="undefined"?jQuery("body").css("user-select",u):false;if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[t]["selector"]).removeClass(r.settings.scrollbarActiveClass)})}if(i=="touchstart"){var v=function(e){e.preventDefault();d(e,"touchmove")};e.addEventListener("touchmove",v,false);var m=function(n){e.removeEventListener("touchmove",v);e.removeEventListener("touchend",m);if(r.settings.scrollbarActiveClass!=null)jQuery(r.settings.elements[t]["selector"]).removeClass(r.settings.scrollbarActiveClass)};e.addEventListener("touchend",m,false)}};if(window.navigator.msPointerEnabled){if(r.settings.enableScrollbarTouch)jQuery(e).css("-ms-touch-action","none");e.addEventListener("MSPointerDown",function(e){n(e,"mousedown",this);e.stopPropagation()},false)}else if("onmousedown"in document.documentElement){jQuery(e).bind("mousedown",function(e){n(e,"mousedown",this);e.stopPropagation()})}if("ontouchstart"in document.documentElement&&r.settings.enableScrollbarTouch){e.addEventListener("touchstart",function(e){n(e,"touchstart",this);e.stopPropagation()},false)}};for(t in r.settings.elements){if(r.settings.elements[t]["method"]!="animate"){delete r.settings.elements[t];continue}if(r.settings.elements[t]["scrollbar"]!=true){delete r.settings.elements[t]["value-start"];delete r.settings.elements[t]["value-end"]}else if(r.settings.elements[t]["method"]=="animate"&&(r.settings.elements[t]["property"]=="top"||r.settings.elements[t]["property"]=="left")){jQuery(r.settings.elements[t]["selector"]).each(function(){E(this,t)})}}r.bindScrollTouchEvents();if(r.settings.initCSS)r.initCSS();r.settings.max++};isAlive.prototype.animateSite=function(){var e=this;jQuery("."+e.settings.animateClass).stop();e.animating=true;var t;var n={};var r;var i;var s;var o;var u;var a;if(e.step==e.lastStep){e.animating=false;e.animationType="none";e.animateDuration=e.settings.duration;e.forceAnimation=false;return}a=e.l(e.lastStep)!=e.l(e.step);if(e.step>e.lastStep){u=true;for(t in e.settings.elements){if(e.animationType=="scrollbar"&&t==e.scrollbarActive)continue;if((e.settings.elements[t]["step-end"]+e.l(e.lastStep)<=e.lastStep||e.settings.elements[t]["step-start"]+e.l(e.lastStep)>=e.step)==false){o=e.l(e.lastStep);if(e.settings.elements[t]["step-start"]+o<=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-start"]+o;if(e.settings.elements[t]["step-end"]+o>=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-end"];s=Math.floor(e.animateDuration/(e.step-e.lastStep)*(i+o-r))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]],useCSS3:e.settings.elements[t]["useCSS3"],useJQuery:e.settings.elements[t]["useJQuery"],easing:e.settings.elements[t]["easing"]}}if(a&&(e.settings.elements[t]["step-end"]+e.l(e.step)<=e.lastStep||e.settings.elements[t]["step-start"]+e.l(e.step)>=e.step)==false){o=e.l(e.step);if(e.settings.elements[t]["step-start"]+o<=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-start"]+o;if(e.settings.elements[t]["step-end"]+o>=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-end"];s=Math.floor(e.animateDuration/(e.step-e.lastStep)*(i+o-r))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]],useCSS3:e.settings.elements[t]["useCSS3"],useJQuery:e.settings.elements[t]["useJQuery"],easing:e.settings.elements[t]["easing"]}}}}else{u=false;for(t in e.settings.elements){if(e.animationType=="scrollbar"&&t==e.scrollbarActive)continue;if((e.settings.elements[t]["step-end"]+e.l(e.step)<=e.step||e.settings.elements[t]["step-start"]+e.l(e.step)>=e.lastStep)==false){o=e.l(e.step);if(e.settings.elements[t]["step-end"]+o>=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-end"]+o;if(e.settings.elements[t]["step-start"]+o<=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-start"];s=Math.floor(e.animateDuration/(e.lastStep-e.step)*(r-(i+o)))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]],useCSS3:e.settings.elements[t]["useCSS3"],useJQuery:e.settings.elements[t]["useJQuery"],easing:e.settings.elements[t]["easing"]}}if(a&&(e.settings.elements[t]["step-end"]+e.l(e.lastStep)<=e.step||e.settings.elements[t]["step-start"]+e.l(e.lastStep)>=e.lastStep)==false){o=e.l(e.lastStep);if(e.settings.elements[t]["step-end"]+o>=e.lastStep)r=e.lastStep;else r=e.settings.elements[t]["step-end"]+o;if(e.settings.elements[t]["step-start"]+o<=e.step)i=e.getPos(e.step);else i=e.settings.elements[t]["step-start"];s=Math.floor(e.animateDuration/(e.lastStep-e.step)*(r-(i+o)))*1;if(typeof n[r]=="undefined")n[r]={};if(typeof n[r][e.settings.elements[t]["selector"]]=="undefined")n[r][e.settings.elements[t]["selector"]]={};n[r][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]]={duration:s,end:i,to:e.animPositions[i][e.settings.elements[t]["selector"]][e.settings.elements[t]["property"]],useCSS3:e.settings.elements[t]["useCSS3"],useJQuery:e.settings.elements[t]["useJQuery"],easing:e.settings.elements[t]["easing"]}}}}var f=e.lastStep;var l=e.step;var c=true;var h=false;var p={};var d=e.lastStep;jQuery(e.mySelector).animate({timer:"+=100"},{duration:e.animateDuration,easing:"linear",queue:false,complete:function(){var t;e.animating=false;e.animationType="none";e.animateDuration=e.settings.duration;e.forceAnimation=false;for(t in e.CSS3TransitionArray){delete e.CSS3TransitionArray[t];jQuery(t).css(fixCSS3("transition"),e.getTransitionArray(t))}if(e.rebuildOnStop){e.rebuildLayout();e.rebuildOnStop=false}if(e.onComplete!==null){e.onComplete();e.onComplete=null}},step:function(t,r){var i,s,o,a,v,m,g;var y=Math.round((f+(l-f)/100*(t-r.start))*100)/100;e.lastStep=y;var b=false;if(c){b=true;i=y}else if(u&&Math.floor(y)>d){b=true;i=Math.floor(y)}else if(!u&&Math.ceil(y)<d){b=true;i=Math.ceil(y)}if(b){if(c){s=d;c=false}else{if(u)s=d+1;else s=d-1}while(u&&s<=i||!u&&s>=i){if(s==parseInt(s)){u?m="forward":s!=l?m="backward":m="forward";if(typeof e.setArray[m][e.getPos(s)]!="undefined"){for(o in e.setArray[m][e.getPos(s)]){for(a in e.setArray[m][e.getPos(s)][o])e.setCSS(o,a,e.setArray[m][e.getPos(s)][o][a])}}if(typeof e.onOffClassArray[m][e.getPos(s)]!="undefined"){for(o in e.onOffClassArray[m][e.getPos(s)]){for(v in e.onOffClassArray[m][e.getPos(s)][o]){if(e.onOffClassArray[m][e.getPos(s)][o][v]==true)jQuery(o).addClass(v);else jQuery(o).removeClass(v)}}}}if(s!=l&&typeof n[s]!="undefined"){for(o in n[s]){for(a in n[s][o]){g=0;if(u&&n[s][o][a]["end"]-e.getPos(y)>0||!u&&e.getPos(y)-n[s][o][a]["end"]>0)g=Math.floor(n[s][o][a]["duration"]*(Math.abs(n[s][o][a]["end"]-e.getPos(y))/Math.abs(n[s][o][a]["end"]-e.getPos(s))));if(!n[s][o][a]["useCSS3"]){if(n[s][o][a]["useJQuery"]){var w={};w[a]=n[s][o][a]["to"];jQuery(o).animate(w,{duration:g,easing:n[s][o][a]["easing"],queue:false})}else e.animateCSS(s,o,a,n[s][o][a]["to"],g,n[s][o][a]["easing"])}else{p[a]=n[s][o][a]["to"];if(typeof e.CSS3TransitionArray[o]=="undefined")e.CSS3TransitionArray[o]={};e.CSS3TransitionArray[o][a]=a+" "+parseFloat(g/1e3)+"s "+n[s][o][a]["easing"];h=true}}if(h){e.setCSS(o,p);p={};h=false}}}if(s!=f){if(e.haveStepPoints){var E=indexOf(e.settings.stepPoints,e.getPos(s));if(E!=-1){jQuery(e.settings.stepPointsSelector).removeClass(e.settings.stepPointsActiveClass);jQuery(e.settings.stepPointsSelector).eq(E).addClass(e.settings.stepPointsActiveClass)}}if(e.settings.onStep!=null)e.settings.onStep(e.getPos(s),Math.floor(s/e.settings.max),e.animationType)}if(u){d=Math.floor(s);s=Math.floor(s)+1}else{d=Math.ceil(s);s=Math.ceil(s)-1}}}}})};isAlive.prototype.doJump=function(e){var t=this;var n;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0){clearTimeout(t.waitScrollTimer);t.waitScrollTimer=setTimeout(function(){t.waitScrollEnd=false},t.settings.scrollDelay)}t.animating?t.lastStep<t.step?n=true:n=false:n=null;if(!t.allowScroll||t.forceAnimation)return false;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0&&t.waitScrollEnd&&t.animating&&t.animationType=="jump"&&(n&&e||!n&&!e))return false;if(t.settings.scrollDelay===false&&t.animating&&t.animationType=="jump"&&(n&&e||!n&&!e))return false;if(t.settings.scrollDelay!==false&&t.settings.scrollDelay>0)t.waitScrollEnd=true;if(!t.animating||t.animating&&t.animationType!="jump"||t.animating&&t.animationType=="jump"&&(n&&!e||!n&&e)){var r=t.getPos(Math.round(t.lastStep));t.jumpPosition=indexOf(t.settings.jumpPoints,r);if(t.jumpPosition==-1){t.jumpPosition=null;if(r<=t.settings.jumpPoints[0]){if(e)t.jumpPosition=-1;else t.jumpPosition=0}else{for(var i=0;i<=t.settings.jumpPoints.length-2;i++){if(r>t.settings.jumpPoints[i]&&r<t.settings.jumpPoints[i+1]){if(e)t.jumpPosition=i;else t.jumpPosition=i+1;break}}if(t.jumpPosition==null){if(e)t.jumpPosition=t.settings.jumpPoints.length-1;else t.jumpPosition=t.settings.jumpPoints.length}}}}if(e){if(t.jumpPosition<t.settings.jumpPoints.length-1){t.jumpPosition++;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}else if(t.jumpPosition==t.settings.jumpPoints.length-1&&t.settings.loop){t.jumpPosition=0;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}}else{if(t.jumpPosition>0){t.jumpPosition--;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}else if(t.jumpPosition==0&&t.settings.loop){t.jumpPosition=t.settings.jumpPoints.length-1;t.goTo({to:t.settings.jumpPoints[t.jumpPosition],orientation:"loop",animationType:"jump",duration:t.settings.durationTweaks["jump"]["duration"],durationType:t.settings.durationTweaks["jump"]["durationType"],minStepDuration:t.settings.durationTweaks["jump"]["minStepDuration"]})}}};isAlive.prototype.doScroll=function(e){var t=this;if(!t.allowScroll||t.forceAnimation)return false;if(t.animating&&t.animationType!="scroll"){t.animateDuration=t.settings.duration;t.step=Math.round(t.lastStep);t.onComplete=null}else if(t.animating&&t.animationType=="scroll"&&(t.lastStep<t.step&&!e||t.lastStep>t.step&&e))t.step=Math.round(t.lastStep);if(e){if((t.step+t.settings.stepsOnScroll<=t.settings.max-1||t.settings.loop)&&t.step+t.settings.stepsOnScroll-t.lastStep<t.settings.max*2&&Math.abs(t.step+t.settings.stepsOnScroll-t.lastStep)<=t.settings.maxScroll)t.step=t.step+t.settings.stepsOnScroll;else if(t.step<t.settings.max-1&&t.step+t.settings.stepsOnScroll>t.settings.max-1&&!t.settings.loop&&Math.abs(t.settings.max-1-t.lastStep)<=t.settings.maxScroll){t.step=t.settings.max-1}else return}else{if((t.step-t.settings.stepsOnScroll>=t.settings.min||t.settings.loop)&&t.lastStep-(t.step-t.settings.stepsOnScroll)<t.settings.max*2&&Math.abs(t.step-t.settings.stepsOnScroll-t.lastStep)<=t.settings.maxScroll)t.step=t.step-t.settings.stepsOnScroll;else if(t.step>t.settings.min&&t.step-t.settings.stepsOnScroll<t.settings.min&&!t.settings.loop&&t.lastStep<=t.settings.maxScroll)t.step=t.settings.min;else return}if(t.settings.debug)jQuery("#isalive-"+t.uniqId+"-debuger span:first").html(t.step);clearTimeout(t.scrollTimer);if(!t.animating||t.animating&&t.animationType!="scroll"){t.animationType="scroll";t.animateSite()}else{t.scrollTimer=setTimeout(function(){t.animationType="scroll";t.animateSite()},20)}};isAlive.prototype.doWipeTouch=function(e){var t=this;if(t.forceAnimation)return false;if(t.animationType!="touchWipe"||t.animationType=="touchWipe"&&(t.lastStep<t.step&&e==-1||t.lastStep>t.step&&e==1)){var n=t.getPos(Math.round(t.lastStep));t.touchPosition=indexOf(t.settings.wipePoints,n);if(t.touchPosition==-1){t.touchPosition=null;if(n<=t.settings.wipePoints[0]){if(e==1)t.touchPosition=-1;else t.touchPosition=0}else{for(var r=0;r<=t.settings.wipePoints.length-2;r++)if(n>t.settings.wipePoints[r]&&n<t.settings.wipePoints[r+1]){if(e==1)t.touchPosition=r;else t.touchPosition=r+1;break}if(t.touchPosition==null){if(e==1)t.touchPosition=t.settings.wipePoints.length-1;else t.touchPosition=t.settings.wipePoints.length}}}}if(e==1){if(t.touchPosition<t.settings.wipePoints.length-1){t.touchPosition++;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"next",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}else if(t.touchPosition==t.settings.wipePoints.length-1&&t.settings.loop){t.touchPosition=0;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"next",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}}if(e==-1){if(t.touchPosition>0){t.touchPosition--;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"prev",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}else if(t.touchPosition==0&&t.settings.loop){t.touchPosition=t.settings.wipePoints.length-1;t.goTo({to:t.settings.wipePoints[t.touchPosition],orientation:"prev",animationType:"touchWipe",duration:t.settings.durationTweaks["wipe"]["duration"],durationType:t.settings.durationTweaks["wipe"]["durationType"],minStepDuration:t.settings.durationTweaks["wipe"]["minStepDuration"]})}}};isAlive.prototype.doDragTouch=function(e){var t=this;if(t.forceAnimation)return false;if(t.animating&&t.animationType!="dragTouch"){t.animateDuration=t.settings.duration;t.step=Math.round(t.lastStep);t.onComplete=null}if(t.animating&&t.animationType=="dragTouch"&&(t.lastStep<t.step&&e==-1||t.lastStep>t.step&&e==1))t.step=Math.round(t.lastStep);if(e==1){if((t.step+t.settings.stepsOnDrag<=t.settings.max-1||t.settings.loop)&&t.step+t.settings.stepsOnDrag-t.lastStep<t.settings.max*2&&Math.abs(t.step+t.settings.stepsOnDrag-t.lastStep)<=t.settings.maxDrag)t.step=t.step+t.settings.stepsOnDrag;else if(t.step<t.settings.max-1&&t.step+t.settings.stepsOnDrag>t.settings.max-1&&!t.settings.loop&&Math.abs(t.settings.max-1-t.lastStep)<=t.settings.maxDrag)t.step=t.settings.max-1;else return}else{if((t.step-t.settings.stepsOnDrag>=t.settings.min||t.settings.loop)&&t.lastStep-(t.step-t.settings.stepsOnDrag)<t.settings.max*2&&Math.abs(t.step-t.settings.stepsOnDrag-t.lastStep)<=t.settings.maxDrag)t.step=t.step-t.settings.stepsOnDrag;else if(t.step>t.settings.min&&t.step-t.settings.stepsOnDrag<t.settings.min&&!t.settings.loop&&t.lastStep<=t.settings.maxDrag)t.step=t.settings.min;else return}if(t.settings.debug)jQuery("#isalive-"+t.uniqId+"-debuger span:first").html(t.step);t.animationType="dragTouch";t.animateSite()};isAlive.prototype.goTo=function(e){settings=jQuery.extend({to:null,duration:null,durationType:"default",orientation:"default",animationType:"goTo",onComplete:null,minStepDuration:null,force:false},e);var t=this;var n,r,i;if(t.forceAnimation||settings.to==null||settings.to<0||settings.to>t.settings.max-1)return false;t.animationType=settings.animationType;t.forceAnimation=settings.force;n=settings.to+Math.floor(t.lastStep/t.settings.max)*t.settings.max;if(Math.abs(n-t.lastStep)>=t.settings.max*2)return;if(t.settings.loop){if(settings.orientation=="loop"){if(t.lastStep<=n)r=n;else r=settings.to+(Math.floor(t.lastStep/t.settings.max)+1)*t.settings.max;if(t.lastStep>=n)i=n;else i=settings.to+(Math.floor(t.lastStep/t.settings.max)-1)*t.settings.max;if(Math.abs(t.lastStep-r)>Math.abs(t.lastStep-i))n=i;else n=r}else if(settings.orientation=="next"){if(t.lastStep>n)n=settings.to+(Math.floor(t.lastStep/t.settings.max)+1)*t.settings.max}else if(settings.orientation=="prev"){if(t.lastStep<n)n=settings.to+(Math.floor(t.lastStep/t.settings.max)-1)*t.settings.max}}t.step=n;if(settings.minStepDuration==null)var s=t.settings.minStepDuration;else var s=settings.minStepDuration;if(settings.durationType=="step"&&settings.duration!=null){if(settings.duration<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=Math.abs(t.lastStep-t.step)*settings.duration}else{if(settings.duration==null){if(t.settings.duration/Math.abs(t.lastStep-t.step)<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=t.settings.duration}else{if(settings.duration/Math.abs(t.lastStep-t.step)<s)t.animateDuration=Math.abs(t.lastStep-t.step)*s;else t.animateDuration=settings.duration}}t.onComplete=null;if(settings.onComplete!==null&&typeof settings.onComplete=="function")t.onComplete=settings.onComplete;t.animateSite()};isAlive.prototype.skip=function(e){var t=this;if(e<0||e>t.settings.max-1)return false;t.stop();if(t.getPos(t.step)==e)return false;var n,r,i,s;var o={};var u={};var a,f,l;n=t.step;i=-1;r=-1;while(n<=e&&t.getPos(t.step)<e||n>=e&&t.getPos(t.step)>e){if(t.haveStepPoints){r=indexOf(t.settings.stepPoints,n);if(r!=-1)i=r}e>t.step?s="forward":n!=e?s="backward":s="forward";if(typeof t.setArray[s][n]!="undefined"){for(a in t.setArray[s][n]){if(typeof o[a]=="undefined")o[a]={};for(f in t.setArray[s][n][a])o[a][f]=t.setArray[s][n][a][f]}}if(typeof t.onOffClassArray[s][n]!="undefined"){for(a in t.onOffClassArray[s][n]){if(typeof u[a]=="undefined")u[a]={};for(l in t.onOffClassArray[s][n][a])u[a][l]=t.onOffClassArray[s][n][a][l]}}if(typeof t.animPositions[n]!="undefined"){for(a in t.animPositions[n]){if(typeof o[a]=="undefined")o[a]={};for(f in t.animPositions[n][a])o[a][f]=t.animPositions[n][a][f]}}if(t.settings.onStep!=null)t.settings.onStep(n,Math.floor(n/t.settings.max),"skip");if(t.getPos(t.step)<e)n=n+1;else n=n-1}for(a in u){for(l in u[a]){if(u[a][l]==true)jQuery(a).addClass(l);else jQuery(a).removeClass(l)}}for(a in o)for(f in o[a])t.setCSS(a,f,o[a][f]);if(i!=-1){jQuery(t.settings.stepPointsSelector).removeClass(t.settings.stepPointsActiveClass);jQuery(t.settings.stepPointsSelector).eq(i).addClass(t.settings.stepPointsActiveClass)}e=e+t.l(t.lastStep);t.step=e;t.lastStep=e};isAlive.prototype.stop=function(){var e=this;var t;jQuery("."+e.settings.animateClass).stop();e.animating=false;e.forceAnimation=false;e.animationType="none";e.animateDuration=e.settings.duration;e.lastStep<e.step?e.step=Math.floor(e.lastStep):e.step=Math.ceil(e.lastStep);e.onComplete=null;for(t in e.CSS3TransitionArray){delete e.CSS3TransitionArray[t];jQuery(t).css(fixCSS3("transition"),e.getTransitionArray(t))}if(e.rebuildOnStop){e.rebuildLayout();e.rebuildOnStop=false}};isAlive.prototype.play=function(e){var t=this;if(t.settings.playPoints.length<=1)return false;if(typeof e=="undefined")e={};var n=Math.floor(t.getPos(t.lastStep));var r=t.settings.max-1;var i=null;for(var s=n+1;s<=r;s++)if(indexOf(t.settings.playPoints,s)!=-1){i=s;break}if(i==null&&t.settings.loop)i=t.settings.playPoints[0];if(i==null)return false;e["to"]=i;e["orientation"]="next";e["animationType"]="play";t.goTo(e)};isAlive.prototype.rewind=function(e){var t=this;if(t.settings.playPoints.length<=1)return false;if(typeof e=="undefined")e={};var n=Math.ceil(t.getPos(t.lastStep));var r=null;for(var i=n-1;i>=0;i--)if(indexOf(t.settings.playPoints,i)!=-1){r=i;break}if(r==null&&t.settings.loop)r=t.settings.playPoints[t.settings.playPoints.length-1];if(r==null)return false;e["to"]=r;e["orientation"]="prev";e["animationType"]="rewind";t.goTo(e)};var methods={create:function(e,t){var n=e.selector;if(jQuery(n).length==0||typeof isAliveObjects[n]!="undefined")return false;if(typeof t=="undefined")t={};isAliveObjects[n]=new isAlive(n,t);return e},goTo:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;if(typeof t=="undefined")t={};isAliveObjects[n].goTo(t);return e},skip:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;if(typeof t=="undefined"||typeof t["to"]=="undefined")return false;isAliveObjects[n].skip(t["to"]);return e},play:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].play(t);return e},rewind:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].rewind(t);return e},stop:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].stop();return e},rebuild:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].rebuildLayout();return e},enableScroll:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].allowScroll=t;return e},enableTouch:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined")return false;isAliveObjects[n].allowTouch=t;if(t==true&&isAliveObjects[n].settings.enableTouch&&browserObj.msie&&parseInt(browserObj.version)>=10&&isAliveObjects[n].settings.preventTouch){isAliveObjects[n].msTouchAction=jQuery(e.mySelector).css("-ms-touch-action");jQuery(n).css("-ms-touch-action","none")}else if(t==false&&isAliveObjects[n].settings.enableTouch&&browserObj.msie&&parseInt(browserObj.version)>=10&&isAliveObjects[n].settings.preventTouch)jQuery(n).css("-ms-touch-action",isAliveObjects[n].msTouchAction);return e},addOnComplete:function(e,t){var n=e.selector;if(typeof isAliveObjects[n]=="undefined"||!isAliveObjects[n].animating)return false;if(typeof t=="function")isAliveObjects[n].onComplete=t;else return false;return e},getStepPosition:function(e){var t=e.selector;if(typeof isAliveObjects[t]=="undefined")return false;return isAliveObjects[t].getPos(isAliveObjects[t].step)},getMaxStep:function(e){var t=e.selector;if(typeof isAliveObjects[t]=="undefined")return false;return isAliveObjects[t].settings.max-1},getBrowser:function(){return getBrowser()},getVersion:function(){return"1.4.0"}};jQuery.fn.isAlive=function(e,t){if(methods[e]){var n=methods[e];return n(this,t)}else return typeof e=="undefined"?isReady:false}})(jQuery)